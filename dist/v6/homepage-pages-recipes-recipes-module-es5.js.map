{"version":3,"sources":["webpack:///src/app/homepage/pages/recipes/cqrs/cqrs.component.ts","webpack:///src/app/homepage/pages/recipes/cqrs/cqrs.component.html","webpack:///src/app/homepage/pages/recipes/crud/crud.component.ts","webpack:///src/app/homepage/pages/recipes/crud/crud.component.html","webpack:///src/app/homepage/pages/recipes/documentation/documentation.component.ts","webpack:///src/app/homepage/pages/recipes/documentation/documentation.component.html","webpack:///src/app/homepage/pages/recipes/hot-reload/hot-reload.component.ts","webpack:///src/app/homepage/pages/recipes/hot-reload/hot-reload.component.html","webpack:///src/app/homepage/pages/recipes/mongodb/mongodb.component.ts","webpack:///src/app/homepage/pages/recipes/mongodb/mongodb.component.html","webpack:///src/app/homepage/pages/recipes/prisma/prisma.component.ts","webpack:///src/app/homepage/pages/recipes/prisma/prisma.component.html","webpack:///src/app/homepage/pages/recipes/recipes.module.ts","webpack:///src/app/homepage/pages/recipes/serve-static/serve-static.component.ts","webpack:///src/app/homepage/pages/recipes/serve-static/serve-static.component.html","webpack:///src/app/homepage/pages/recipes/sql-sequelize/sql-sequelize.component.ts","webpack:///src/app/homepage/pages/recipes/sql-sequelize/sql-sequelize.component.html","webpack:///src/app/homepage/pages/recipes/sql-typeorm/sql-typeorm.component.ts","webpack:///src/app/homepage/pages/recipes/sql-typeorm/sql-typeorm.component.html","webpack:///src/app/homepage/pages/recipes/swagger/swagger.component.ts","webpack:///src/app/homepage/pages/recipes/swagger/swagger.component.html","webpack:///src/app/homepage/pages/recipes/terminus/terminus.component.ts","webpack:///src/app/homepage/pages/recipes/terminus/terminus.component.html"],"names":["CqrsComponent","selector","templateUrl","changeDetection","OnPush","CrudComponent","DocumentationComponent","HotReloadComponent","MongodbComponent","PrismaComponent","routes","path","component","data","title","redirectTo","RecipesModule","forChild","imports","declarations","ServeStaticComponent","SqlSequelizeComponent","SqlTypeormComponent","SwaggerComponent","TerminusComponent"],"mappings":"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","file":"homepage-pages-recipes-recipes-module-es5.js","sourcesContent":["import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-cqrs',\n  templateUrl: './cqrs.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CqrsComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/recipes/cqrs.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"cqrs\">CQRS</h3>\n<p>The flow of simple <a rel='nofollow' target='_blank' href=\"https://en.wikipedia.org/wiki/Create,_read,_update_and_delete\">CRUD</a> (Create, Read, Update and Delete) applications can be described using the following steps:</p>\n<ol>\n<li>The <strong>controllers</strong> layer handles HTTP requests and delegates tasks to the services layer.</li>\n<li>The <strong>services layer</strong> is where most of the business logic lives.</li>\n<li>Services uses <strong>repositories / DAOs</strong> to change / persist entities.</li>\n<li>Entities act as containers for the values, with setters and getters.</li>\n</ol>\n<p>In most cases, for small and medium-sized applications, this pattern is sufficient. However, when our requirements become more complex, the <strong>CQRS</strong> model may be more appropriate and scalable. To facilitate that model, Nest provides a lightweight <a rel='nofollow' target='_blank' href=\"https://github.com/nestjs/cqrs\">CQRS module</a>. This chapter describes how to use it.</p>\n<h4 appAnchor id=\"installation\"><span>Installation</span></h4>\n<p>First install the required package:</p>\n<pre><code class=\"language-bash\">\n$ npm install --save @nestjs/cqrs</code></pre>\n<h4 appAnchor id=\"commands\"><span>Commands</span></h4>\n<p>In this model, each action is called a <strong>Command</strong>. When a command is dispatched, the application reacts to it. Commands can be dispatched from the services layer, or directly from controllers/gateways. Commands are consumed by <strong>Command Handlers</strong>.</p>\n\n<span class=\"filename\">\n  {{ 'heroes-game.service' | extension: app6379e3514852d43c413c0a634462f10c6dec0c22.isJsActive }}\n<app-tabs #app6379e3514852d43c413c0a634462f10c6dec0c22></app-tabs>\n</span><pre [class.hide]=\"app6379e3514852d43c413c0a634462f10c6dec0c22.isJsActive\"><code class=\"language-typescript\">\n@Injectable()\nexport class HeroesGameService &#123;\n  constructor(private readonly commandBus: CommandBus) &#123;&#125;\n\n  async killDragon(heroId: string, killDragonDto: KillDragonDto) &#123;\n    return this.commandBus.execute(\n      new KillDragonCommand(heroId, killDragonDto.dragonId)\n    );\n  &#125;\n&#125;</code></pre>\n<pre [class.hide]=\"!app6379e3514852d43c413c0a634462f10c6dec0c22.isJsActive\"><code class=\"language-typescript\">\n@Injectable()\n@Dependencies(CommandBus)\nexport class HeroesGameService &#123;\n  constructor(commandBus) &#123;\n    this.commandBus = commandBus;\n  &#125;\n\n  async killDragon(heroId, killDragonDto) &#123;\n    return this.commandBus.execute(\n      new KillDragonCommand(heroId, killDragonDto.dragonId)\n    );\n  &#125;\n&#125;</code></pre><p>Here&#39;s a sample service that dispatches <code>KillDragonCommand</code>. Let&#39;s see how the command looks:</p>\n\n<span class=\"filename\">\n  {{ 'kill-dragon.command' | extension: appe6a11388b1abbebcdea5b0c8f9bd1113d71b90c3.isJsActive }}\n<app-tabs #appe6a11388b1abbebcdea5b0c8f9bd1113d71b90c3></app-tabs>\n</span><pre [class.hide]=\"appe6a11388b1abbebcdea5b0c8f9bd1113d71b90c3.isJsActive\"><code class=\"language-typescript\">\nexport class KillDragonCommand &#123;\n  constructor(\n    public readonly heroId: string,\n    public readonly dragonId: string,\n  ) &#123;&#125;\n&#125;</code></pre>\n<pre [class.hide]=\"!appe6a11388b1abbebcdea5b0c8f9bd1113d71b90c3.isJsActive\"><code class=\"language-typescript\">\nexport class KillDragonCommand &#123;\n  constructor(heroId, dragonId) &#123;\n    this.heroId = heroId;\n    this.dragonId = dragonId;\n  &#125;\n&#125;</code></pre><p>The <code>CommandBus</code> is a <strong>stream</strong> of commands. It delegates commands to the equivalent handlers. Each command must have a corresponding <strong>Command Handler</strong>:</p>\n\n<span class=\"filename\">\n  {{ 'kill-dragon.handler' | extension: appeb761b4bf3076b44210a8dde510cc95caf6bf8e2.isJsActive }}\n<app-tabs #appeb761b4bf3076b44210a8dde510cc95caf6bf8e2></app-tabs>\n</span><pre [class.hide]=\"appeb761b4bf3076b44210a8dde510cc95caf6bf8e2.isJsActive\"><code class=\"language-typescript\">\n@CommandHandler(KillDragonCommand)\nexport class KillDragonHandler implements ICommandHandler&lt;KillDragonCommand&gt; &#123;\n  constructor(private readonly repository: HeroRepository) &#123;&#125;\n\n  async execute(command: KillDragonCommand) &#123;\n    const &#123; heroId, dragonId &#125; = command;\n    const hero = this.repository.findOneById(+heroId);\n\n    hero.killEnemy(dragonId);\n    await this.repository.persist(hero);\n  &#125;\n&#125;</code></pre>\n<pre [class.hide]=\"!appeb761b4bf3076b44210a8dde510cc95caf6bf8e2.isJsActive\"><code class=\"language-typescript\">\n@CommandHandler(KillDragonCommand)\n@Dependencies(HeroRepository)\nexport class KillDragonHandler &#123;\n  constructor(repository) &#123;\n    this.repository = repository;\n  &#125;\n\n  async execute(command) &#123;\n    const &#123; heroId, dragonId &#125; = command;\n    const hero = this.repository.findOneById(+heroId);\n\n    hero.killEnemy(dragonId);\n    await this.repository.persist(hero);\n  &#125;\n&#125;</code></pre><p>With this approach, every application state change is driven by the occurrence of a <strong>Command</strong>. The logic is encapsulated in handlers. With this approach, we can simply add behavior like logging or persisting commands in the database (e.g., for diagnostics purposes).</p>\n<h4 appAnchor id=\"events\"><span>Events</span></h4>\n<p>Command handlers neatly encapsulate logic. While beneficial, the application structure is still not flexible enough, not <strong>reactive</strong>. To remedy this, we also introduce <strong>events</strong>.</p>\n\n<span class=\"filename\">\n  {{ 'hero-killed-dragon.event' | extension: appe64290052e25d9f529c459bb1f69d47e1f256c36.isJsActive }}\n<app-tabs #appe64290052e25d9f529c459bb1f69d47e1f256c36></app-tabs>\n</span><pre [class.hide]=\"appe64290052e25d9f529c459bb1f69d47e1f256c36.isJsActive\"><code class=\"language-typescript\">\nexport class HeroKilledDragonEvent &#123;\n  constructor(\n    public readonly heroId: string,\n    public readonly dragonId: string,\n  ) &#123;&#125;\n&#125;</code></pre>\n<pre [class.hide]=\"!appe64290052e25d9f529c459bb1f69d47e1f256c36.isJsActive\"><code class=\"language-typescript\">\nexport class HeroKilledDragonEvent &#123;\n  constructor(heroId, dragonId) &#123;\n    this.heroId = heroId;\n    this.dragonId = dragonId;\n  &#125;\n&#125;</code></pre><p>Events are asynchronous. They are dispatched either by <strong>models</strong> or directly using <code>EventBus</code>. In order to dispatch events, models have to extend the <code>AggregateRoot</code> class.</p>\n\n<span class=\"filename\">\n  {{ 'hero.model' | extension: app410422a7061c4015f882f8d0c95a431bda322dde.isJsActive }}\n<app-tabs #app410422a7061c4015f882f8d0c95a431bda322dde></app-tabs>\n</span><pre [class.hide]=\"app410422a7061c4015f882f8d0c95a431bda322dde.isJsActive\"><code class=\"language-typescript\">\nexport class Hero extends AggregateRoot &#123;\n  constructor(private readonly id: string) &#123;\n    super();\n  &#125;\n\n  killEnemy(enemyId: string) &#123;\n    // logic\n    this.apply(new HeroKilledDragonEvent(this.id, enemyId));\n  &#125;\n&#125;</code></pre>\n<pre [class.hide]=\"!app410422a7061c4015f882f8d0c95a431bda322dde.isJsActive\"><code class=\"language-typescript\">\nexport class Hero extends AggregateRoot &#123;\n  constructor(id) &#123;\n    super();\n    this.id = id;\n  &#125;\n\n  killEnemy(enemyId) &#123;\n    // logic\n    this.apply(new HeroKilledDragonEvent(this.id, enemyId));\n  &#125;\n&#125;</code></pre><p>The <code>apply()</code> method does not dispatch events yet because there&#39;s no relationship between the model and the <code>EventPublisher</code> class. How do we associate the model and the publisher? By using a publisher <code>mergeObjectContext()</code> method inside our command handler.</p>\n\n<span class=\"filename\">\n  {{ 'kill-dragon.handler' | extension: app07ed862eb6c822f37dc1cc6ffe2196c79ca313f8.isJsActive }}\n<app-tabs #app07ed862eb6c822f37dc1cc6ffe2196c79ca313f8></app-tabs>\n</span><pre [class.hide]=\"app07ed862eb6c822f37dc1cc6ffe2196c79ca313f8.isJsActive\"><code class=\"language-typescript\">\n@CommandHandler(KillDragonCommand)\nexport class KillDragonHandler implements ICommandHandler&lt;KillDragonCommand&gt; &#123;\n  constructor(\n    private readonly repository: HeroRepository,\n    private readonly publisher: EventPublisher,\n  ) &#123;&#125;\n\n  async execute(command: KillDragonCommand) &#123;\n    const &#123; heroId, dragonId &#125; = command;\n    const hero = this.publisher.mergeObjectContext(\n      await this.repository.findOneById(+heroId),\n    );\n    hero.killEnemy(dragonId);\n    hero.commit();\n  &#125;\n&#125;</code></pre>\n<pre [class.hide]=\"!app07ed862eb6c822f37dc1cc6ffe2196c79ca313f8.isJsActive\"><code class=\"language-typescript\">\n@CommandHandler(KillDragonCommand)\n@Dependencies(HeroRepository, EventPublisher)\nexport class KillDragonHandler &#123;\n  constructor(repository, publisher) &#123;\n    this.repository = repository;\n    this.publisher = publisher;\n  &#125;\n\n  async execute(command) &#123;\n    const &#123; heroId, dragonId &#125; = command;\n    const hero = this.publisher.mergeObjectContext(\n      await this.repository.findOneById(+heroId),\n    );\n    hero.killEnemy(dragonId);\n    hero.commit();\n  &#125;\n&#125;</code></pre><p>Now everything works as expected. Notice that we need to <code>commit()</code> events since they&#39;re not being dispatched immediately. Obviously, an object doesn&#39;t have to exist up front. We can easily merge type context as well:</p>\n<pre><code class=\"language-typescript\">\nconst HeroModel = this.publisher.mergeContext(Hero);\nnew HeroModel(&#39;id&#39;);</code></pre>\n<p>Now the model has the ability to publish events. Additionally, we can emit events manually using <code>EventBus</code>:</p>\n<pre><code class=\"language-typescript\">\nthis.eventBus.publish(new HeroKilledDragonEvent());</code></pre>\n<blockquote class=\"\ninfo \"><strong>Hint</strong> The <code>EventBus</code> is an injectable class.\n</blockquote>\n<p>Each event can have multiple <strong>Event Handlers</strong>.</p>\n\n<span class=\"filename\">\n  {{ 'hero-killed-dragon.handler' | extension: appa42f47a23aa5b7d261148b3f6f9f7ed102779fb9.isJsActive }}\n<app-tabs #appa42f47a23aa5b7d261148b3f6f9f7ed102779fb9></app-tabs>\n</span><pre><code class=\"language-typescript\">\n@EventsHandler(HeroKilledDragonEvent)\nexport class HeroKilledDragonHandler implements IEventHandler&lt;HeroKilledDragonEvent&gt; &#123;\n  constructor(private readonly repository: HeroRepository) &#123;&#125;\n\n  handle(event: HeroKilledDragonEvent) &#123;\n    // logic\n  &#125;\n&#125;</code></pre><p>Now we can move the <strong>write logic</strong> into the event handlers.</p>\n<h4 appAnchor id=\"sagas\"><span>Sagas</span></h4>\n<p>This type of <strong>Event-Driven Architecture</strong> improves application <strong>reactiveness and scalability</strong>. Now, when we have events, we can simply react to them in various ways. <strong>Sagas</strong> are the final building block from an architectural point of view.</p>\n<p>Sagas are an extremely powerful feature. A single saga may listen for 1..* events. Using the <a rel='nofollow' target='_blank' href=\"https://github.com/ReactiveX/rxjs\">RxJS</a> library, it can combine, merge, filter or apply other <code>RxJS</code> operators on the event stream. Each saga returns an Observable which contains a command. This command is dispatched <strong>asynchronously</strong>.</p>\n\n<span class=\"filename\">\n  {{ 'heroes-game.saga' | extension: app5b793365e757e109bcaf64547159035527a6266d.isJsActive }}\n<app-tabs #app5b793365e757e109bcaf64547159035527a6266d></app-tabs>\n</span><pre [class.hide]=\"app5b793365e757e109bcaf64547159035527a6266d.isJsActive\"><code class=\"language-typescript\">\n@Injectable()\nexport class HeroesGameSagas &#123;\n  @Saga()\n  dragonKilled = (events$: Observable&lt;any&gt;): Observable&lt;ICommand&gt; =&gt; &#123;\n    return events$.pipe(\n      ofType(HeroKilledDragonEvent),\n      map((event) =&gt; new DropAncientItemCommand(event.heroId, fakeItemID)),\n    );\n  &#125;\n&#125;</code></pre>\n<pre [class.hide]=\"!app5b793365e757e109bcaf64547159035527a6266d.isJsActive\"><code class=\"language-typescript\">\n@Injectable()\nexport class HeroesGameSagas &#123;\n  @Saga()\n  dragonKilled = (events$) =&gt; &#123;\n    return events$.pipe(\n      ofType(HeroKilledDragonEvent),\n      map((event) =&gt; new DropAncientItemCommand(event.heroId, fakeItemID)),\n    );\n  &#125;\n&#125;</code></pre><blockquote class=\"\ninfo \"><strong>Hint</strong> The <code>ofType</code> operator is exported from the <code>@nestjs/cqrs</code> package.\n</blockquote>\n<p>We declared a rule - when any hero kills the dragon, the ancient item should be dropped. With this in place, <code>DropAncientItemCommand</code> will be dispatched and processed by the appropriate handler.</p>\n<h4 appAnchor id=\"queries\"><span>Queries</span></h4>\n<p>The <code>CqrsModule</code> can also be used for handling queries. The <code>QueryBus</code> follows the same pattern as the <code>CommandsBus</code>. Query handlers should implement the <code>IQueryHandler</code> interface and be marked with the <code>@QueryHandler()</code> decorator.</p>\n<h4 appAnchor id=\"setup\"><span>Setup</span></h4>\n<p>Finally, let&#39;s look at how to set up the whole CQRS mechanism.</p>\n\n<span class=\"filename\">\n  {{ 'heroes-game.module' | extension: app78205e48545e27179d30fb0fcded91a78a25521e.isJsActive }}\n<app-tabs #app78205e48545e27179d30fb0fcded91a78a25521e></app-tabs>\n</span><pre><code class=\"language-typescript\">\nexport const CommandHandlers = [KillDragonHandler, DropAncientItemHandler];\nexport const EventHandlers =  [HeroKilledDragonHandler, HeroFoundItemHandler];\n\n@Module(&#123;\n  imports: [CqrsModule],\n  controllers: [HeroesGameController],\n  providers: [\n    HeroesGameService,\n    HeroesGameSagas,\n    ...CommandHandlers,\n    ...EventHandlers,\n    HeroRepository,\n  ]\n&#125;)\nexport class HeroesGameModule &#123;&#125;</code></pre><h4 appAnchor id=\"summary\"><span>Summary</span></h4>\n<p><code>CommandBus</code>, <code>QueryBus</code> and <code>EventBus</code> are <strong>Observables</strong>. This means that you can easily subscribe to the whole stream and enrich your application with <strong>Event Sourcing</strong>.</p>\n<p>A working example is available <a rel='nofollow' target='_blank' href=\"https://github.com/kamilmysliwiec/nest-cqrs-example\">here</a>.</p>\n\n</div>\n\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-crud',\n  templateUrl: './crud.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CrudComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/recipes/crud.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"crud-utilities\">CRUD utilities</h3>\n<blockquote class=\"\nwarning \"><strong>Notice</strong> This chapter applies only to TypeScript.\n</blockquote>\n<h4 appAnchor id=\"overview\"><span>Overview</span></h4>\n<p><a rel='nofollow' target='_blank' href=\"https://github.com/nestjsx/crud\">CRUD</a> is a <strong>community package</strong> (<code>@nestjsx/crud</code>) that helps you create database-centric Create/Read/Update/Delete (CRUD) controllers and services with ease, and provides a rich set of features for your RESTful API out-of-the-box:</p>\n<ul>\n<li>Database agnostic extendable CRUD controller</li>\n<li>Query string parsing with filtering, pagination, sorting, relations, nested relations, cache, etc.</li>\n<li>Framework agnostic package with query builder for frontend usage</li>\n<li>Query, path params and DTO validation</li>\n<li>Overriding controller methods with ease</li>\n<li>Tiny but powerful configuration (including global configuration)</li>\n<li>Additional helper decorators</li>\n<li>Swagger documentation</li>\n</ul>\n<blockquote class=\"\nwarning \"><strong>Notice</strong> Currently <code>@nestjsx/crud</code> only supports <code>TypeORM</code>. Other ORMs like <code>Sequelize</code> and <code>Mongoose</code> will be included in the near future.\n</blockquote>\n<p>In this chapter, you&#39;ll get an overview of how to create CRUD controllers and services using <code>TypeORM</code>. Complete documentation is available at the project&#39;s <a rel='nofollow' target='_blank' href=\"https://github.com/nestjsx/crud/wiki/Home\">wiki</a>. We assume that you have already successfully installed and set up the <code>@nestjs/typeorm</code> package. To learn more, see <a routerLink=\"/techniques/sql\">here</a>.</p>\n<h4 appAnchor id=\"getting-started\"><span>Getting started</span></h4>\n<p>Start by installing all required dependencies:</p>\n<pre><code class=\"language-bash\">\nnpm i --save @nestjsx/crud @nestjsx/crud-typeorm typeorm class-transformer class-validator</code></pre>\n<p>Assuming that you already have some <strong>entities</strong> in your project:</p>\n\n<span class=\"filename\">\n  {{ 'hero.entity' | extension: appdeaa58ba9ea856d96991601c1c1acf7fa3904b34.isJsActive }}\n<app-tabs #appdeaa58ba9ea856d96991601c1c1acf7fa3904b34></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Entity, PrimaryGeneratedColumn, Column &#125; from &#39;typeorm&#39;;\n\n@Entity()\nexport class Hero &#123;\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @Column()\n  name: string;\n\n  @Column(&#123; type: &#39;number&#39; &#125;)\n  power: number;\n&#125;</code></pre><p>The first step is to create a <strong>service</strong>:</p>\n\n<span class=\"filename\">\n  {{ 'heroes.service' | extension: app4b2d757ea05b814c150341ae676cc403217ba7eb.isJsActive }}\n<app-tabs #app4b2d757ea05b814c150341ae676cc403217ba7eb></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Injectable &#125; from &#39;@nestjs/common&#39;;\nimport &#123; InjectRepository &#125; from &#39;@nestjs/typeorm&#39;;\nimport &#123; TypeOrmCrudService &#125; from &#39;@nestjsx/crud-typeorm&#39;;\nimport &#123; Hero &#125; from &#39;./hero.entity&#39;;\n\n@Injectable()\nexport class HeroesService extends TypeOrmCrudService&lt;Hero&gt; &#123;\n  constructor(@InjectRepository(Hero) repo) &#123;\n    super(repo);\n  &#125;\n&#125;</code></pre><p>The next step is to create a <strong>controller</strong>:</p>\n\n<span class=\"filename\">\n  {{ 'heroes.controller' | extension: app4b2cff7647090ff5aa319b360879feee3c88be36.isJsActive }}\n<app-tabs #app4b2cff7647090ff5aa319b360879feee3c88be36></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Controller &#125; from &#39;@nestjs/common&#39;;\nimport &#123; Crud &#125; from &#39;@nestjsx/crud&#39;;\nimport &#123; Hero &#125; from &#39;./hero.entity&#39;;\nimport &#123; HeroesService &#125; from &#39;./heroes.service&#39;;\n\n@Crud(&#123;\n  model: &#123;\n    type: Hero,\n  &#125;,\n&#125;)\n@Controller(&#39;heroes&#39;)\nexport class HeroesController &#123;\n  constructor(public service: HeroesService) &#123;&#125;\n&#125;</code></pre><p>And finally, we need to wire up everything in our <strong>module</strong>:</p>\n\n<span class=\"filename\">\n  {{ 'heroes.module' | extension: appd161c1627e86a8c37f17cc6bd1af63d347fc5207.isJsActive }}\n<app-tabs #appd161c1627e86a8c37f17cc6bd1af63d347fc5207></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Module &#125; from &#39;@nestjs/common&#39;;\nimport &#123; TypeOrmModule &#125; from &#39;@nestjs/typeorm&#39;;\n\nimport &#123; Hero &#125; from &#39;./hero.entity&#39;;\nimport &#123; HeroesService &#125; from &#39;./heroes.service&#39;;\nimport &#123; HeroesController &#125; from &#39;./heroes.controller&#39;;\n\n@Module(&#123;\n  imports: [TypeOrmModule.forFeature([Hero])],\n  providers: [HeroesService],\n  controllers: [HeroesController],\n&#125;)\nexport class HeroesModule &#123;&#125;</code></pre><blockquote class=\"\nwarning \"><strong>Notice</strong> Do not forget to import the <code>HeroesModule</code> into the root <code>ApplicationModule</code>.\n</blockquote>\n<p>At this point, your application will have these newly created endpoints:</p>\n<ul>\n<li><code>GET /heroes</code> - get many heroes.</li>\n<li><code>GET /heroes/:id</code> - get one hero.</li>\n<li><code>POST /heroes/bulk</code> - create many heroes.</li>\n<li><code>POST /heroes</code> - create one hero.</li>\n<li><code>PATCH /heroes/:id</code> - update one hero.</li>\n<li><code>PUT /heroes/:id</code> - replace one hero.</li>\n<li><code>DELETE /heroes/:id</code> - delete one hero.</li>\n</ul>\n<h4 appAnchor id=\"filtering-and-pagination\"><span>Filtering and pagination</span></h4>\n<p><a rel='nofollow' target='_blank' href=\"https://github.com/nestjsx/crud\">CRUD</a> provides rich tools for filtering and pagination. Here&#39;s a sample HTTP REST request:</p>\n<pre><code class=\"language-bash\">\nGET /heroes?select=name&amp;filter=power||gt||90&amp;sort=name,ASC&amp;page=1&amp;limit=3</code></pre>\n<p>In this example, we:</p>\n<ul>\n<li>requested the list of heroes and selected only the <code>name</code> attribute</li>\n<li>filtered the list to include heroes with a <code>power</code> greater than 90</li>\n<li>limited the result set to 3 within page 1</li>\n<li>sorted by <code>name</code> in <code>ASC</code> order</li>\n</ul>\n<p>The response object would look like this:</p>\n<pre><code class=\"language-json\">\n&#123;\n  &quot;data&quot;: [\n    &#123;\n      &quot;id&quot;: 2,\n      &quot;name&quot;: &quot;Batman&quot;\n    &#125;,\n    &#123;\n      &quot;id&quot;: 4,\n      &quot;name&quot;: &quot;Flash&quot;\n    &#125;,\n    &#123;\n      &quot;id&quot;: 3,\n      &quot;name&quot;: &quot;Superman&quot;\n    &#125;\n  ],\n  &quot;count&quot;: 3,\n  &quot;total&quot;: 14,\n  &quot;page&quot;: 1,\n  &quot;pageCount&quot;: 5\n&#125;</code></pre>\n<blockquote class=\"\nwarning \"><strong>Notice</strong> Primary columns persist in the resource response object whether they were requested or not. In our example, this is the <code>id</code> column.\n</blockquote>\n<p>The complete list of query params and filter operators can be found in the project&#39;s <a rel='nofollow' target='_blank' href=\"https://github.com/nestjsx/crud/wiki/Requests\">Wiki</a>.</p>\n<h4 appAnchor id=\"relations\"><span>Relations</span></h4>\n<p><strong>Relations</strong> is another powerful feature. In your CRUD controller, you can specify the list of an entity&#39;s relations which are allowed to fetch within your API calls:</p>\n<pre><code class=\"language-typescript\">\n@Crud(&#123;\n  model: &#123;\n    type: Hero,\n  &#125;,\n  join: &#123;\n    profile: &#123;\n      exclude: [&#39;secret&#39;],\n    &#125;,\n    faction: &#123;\n      eager: true,\n      only: [&#39;name&#39;],\n    &#125;,\n  &#125;,\n&#125;)\n@Controller(&#39;heroes&#39;)\nexport class HeroesController &#123;\n  constructor(public service: HeroesService) &#123;&#125;\n&#125;</code></pre>\n<p>After specifying allowed relations in the <code>@Crud()</code> decorator options, you can make the following request:</p>\n<blockquote class=\"\ninfo \"><strong>Request</strong> GET /heroes/25?<strong>join</strong>=profile||address,bio\n</blockquote>\n<p>The response will contain a hero object with a joined profile which includes the <code>address</code> and <code>bio</code> columns.</p>\n<p>The response will also contain a <code>faction</code> object with the <code>name</code> column selected because it was set to <code>eager: true</code> (and thus persists in every response).</p>\n<p>You can find more information about relations in the project&#39;s <a rel='nofollow' target='_blank' href=\"https://github.com/nestjsx/crud/wiki/Controllers#join\">WiKi</a>.</p>\n<h4 appAnchor id=\"path-params-validation\"><span>Path params validation</span></h4>\n<p>By default, <a rel='nofollow' target='_blank' href=\"https://github.com/nestjsx/crud\">CRUD</a> creates a slug with the name <code>id</code> and validates it as a <code>number</code>. You can modify this behavior if desired. Assume, your entity has a primary column <code>_id</code> - a UUID string - and you need to use it as a slug for your endpoints. This can be done with the following options:</p>\n<pre><code class=\"language-typescript\">\n@Crud(&#123;\n  model: &#123;\n    type: Hero,\n  &#125;,\n  params: &#123;\n    _id: &#123;\n      field: &#39;_id&#39;,\n      type: &#39;uuid&#39;,\n      primary: true,\n    &#125;,\n  &#125;,\n&#125;)\n@Controller(&#39;heroes&#39;)\nexport class HeroesController &#123;\n  constructor(public service: HeroesService) &#123;&#125;\n&#125;</code></pre>\n<p>For more params options please see the project&#39;s <a rel='nofollow' target='_blank' href=\"https://github.com/nestjsx/crud/wiki/Controllers#params\">Wiki</a>.</p>\n<h4 appAnchor id=\"request-body-validation\"><span>Request body validation</span></h4>\n<p>Request body validation is performed out-of-the-box by applying the standard Nest <code>ValidationPipe</code> on each POST, PUT or PATCH request. The <code>model.type</code> from the <code>@Crud()</code> decorator options is used as a DTO that describes validation rules.</p>\n<p>To do that properly we use <a rel='nofollow' target='_blank' href=\"https://github.com/typestack/class-validator#validation-groups\">validation groups</a>:</p>\n\n<span class=\"filename\">\n  {{ 'hero.entity' | extension: appc71fdf9489e94f330cc084c28bb6947b8e1ccb8e.isJsActive }}\n<app-tabs #appc71fdf9489e94f330cc084c28bb6947b8e1ccb8e></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Entity, PrimaryGeneratedColumn, Column &#125; from &#39;typeorm&#39;;\nimport &#123; IsOptional, IsDefined, IsString, IsNumber &#125; from &#39;class-validator&#39;;\nimport &#123; CrudValidationGroups &#125; from &#39;@nestjsx/crud&#39;;\n\nconst &#123; CREATE, UPDATE &#125; = CrudValidationGroups;\n\n@Entity()\nexport class Hero &#123;\n  @IsOptional(&#123; always: true &#125;)\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @IsOptional(&#123; groups: [UPDATE] &#125;)\n  @IsDefined(&#123; groups: [CREATE] &#125;)\n  @IsString(&#123; always: true &#125;)\n  @Column()\n  name: string;\n\n  @IsOptional(&#123; groups: [UPDATE] &#125;)\n  @IsDefined(&#123; groups: [CREATE] &#125;)\n  @IsNumber(&#123;&#125;, &#123; always: true &#125;)\n  @Column(&#123; type: &#39;number&#39; &#125;)\n  power: number;\n&#125;</code></pre><blockquote class=\"\nwarning \"><strong>Notice</strong> Full support of separate DTO classes for <code>create</code> and <code>update</code> actions is one of the main priorities for the next <a rel='nofollow' target='_blank' href=\"https://github.com/nestjsx/crud\">CRUD</a> release.\n</blockquote>\n<h4 appAnchor id=\"routes-options\"><span>Routes options</span></h4>\n<p>You can disable or enable generation of specific routes by passing the <code>routes</code> options property to the <code>@Crud()</code> decorator:</p>\n<pre><code class=\"language-typescript\">\n@Crud(&#123;\n  model: &#123;\n    type: Hero,\n  &#125;,\n  routes: &#123;\n    only: [&#39;getManyBase&#39;],\n    getManyBase: &#123;\n      decorators: [UseGuards(HeroAuthGuard)],\n    &#125;,\n  &#125;,\n&#125;)\n@Controller(&#39;heroes&#39;)\nexport class HeroesController &#123;\n  constructor(public service: HeroesService) &#123;&#125;\n&#125;</code></pre>\n<p>You can apply any method decorators by passing them to the specific route <code>decorators</code> array. This is convenient when you want to add some decorators without overriding base methods.</p>\n<h4 appAnchor id=\"documentation\"><span>Documentation</span></h4>\n<p>The examples in this chapter cover only some of the <a rel='nofollow' target='_blank' href=\"https://github.com/nestjsx/crud\">CRUD</a> features. You can find complete documentation on the project&#39;s <a rel='nofollow' target='_blank' href=\"https://github.com/nestjsx/crud/wiki/Home\">Wiki</a> page.</p>\n\n</div>\n\n","import { Component, ChangeDetectionStrategy } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-documentation',\n  templateUrl: './documentation.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DocumentationComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/recipes/documentation.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"documentation\">Documentation</h3>\n<p><strong>Compodoc</strong> is a documentation tool for Angular applications. Since Nest and Angular share similar project and code structures, <strong>Compodoc</strong> works with Nest applications as well.</p>\n<h4 appAnchor id=\"setup\"><span>Setup</span></h4>\n<p>Setting up Compodoc inside an existing Nest project is very simple. Start by adding the dev-dependency with the following command in your OS terminal:</p>\n<pre><code class=\"language-bash\">\n$ npm i -D @compodoc/compodoc</code></pre>\n<h4 appAnchor id=\"generation\"><span>Generation</span></h4>\n<p>Generate project documentation using the following command (npm 6 is required for <code>npx</code> support). See <a rel='nofollow' target='_blank' href=\"https://compodoc.app/guides/usage.html\">the official documentation</a> for more options.</p>\n<pre><code class=\"language-bash\">\n$ npx compodoc -p tsconfig.json -s</code></pre>\n<p>Open your browser and navigate to <a rel='nofollow' target='_blank' href=\"http://localhost:8080\">http://localhost:8080</a>. You should see an initial Nest CLI project:</p>\n<figure><img src=\"/assets/documentation-compodoc-1.jpg\" /></figure>\n<figure><img src=\"/assets/documentation-compodoc-2.jpg\" /></figure>\n\n<h4 appAnchor id=\"contribute\"><span>Contribute</span></h4>\n<p>You can participate and contribute to the Compodoc project <a rel='nofollow' target='_blank' href=\"https://github.com/compodoc/compodoc\">here</a>.</p>\n\n</div>\n\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-hot-reload',\n  templateUrl: './hot-reload.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class HotReloadComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/recipes/hot-reload.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"hot-reload\">Hot Reload</h3>\n<p>The highest impact on your application&#39;s bootstrapping process is <strong>TypeScript compilation</strong>. Fortunately, with <a rel='nofollow' target='_blank' href=\"https://github.com/webpack/webpack\">webpack</a> HMR (Hot-Module Replacement), we don&#39;t need to recompile the entire project each time a change occurs. This significantly decreases the amount of time necessary to instantiate your application, and makes iterative development a lot easier.</p>\n<blockquote class=\"\nwarning \"><strong>Warning</strong> Note that <code>webpack</code> won&#39;t automatically copy your assets (e.g. <code>graphql</code> files) to the <code>dist</code> folder. Similarly, <code>webpack</code> is not compatible with glob static paths (e.g., the <code>entities</code> property in <code>TypeOrmModule</code>).\n</blockquote>\n<h3 id=\"with-cli\">With CLI</h3>\n<p>If you are using the <a rel='nofollow' target='_blank' href=\"https://docs.nestjs.com/cli/overview\">Nest CLI</a>, the configuration process is pretty straightforward. The CLI wraps <code>webpack</code>, which allows use of the <code>HotModuleReplacementPlugin</code>.</p>\n<h4 appAnchor id=\"installation\"><span>Installation</span></h4>\n<p>First install the required packages:</p>\n<pre><code class=\"language-bash\">\n$ npm i --save-dev webpack-node-externals start-server-webpack-plugin</code></pre>\n<h4 appAnchor id=\"configuration\"><span>Configuration</span></h4>\n<p>Once the installation is complete, create a <code>webpack-hmr.config.js</code> file in the root directory of your application.</p>\n<pre><code class=\"language-typescript\">\nconst webpack = require(&#39;webpack&#39;);\nconst nodeExternals = require(&#39;webpack-node-externals&#39;);\nconst StartServerPlugin = require(&#39;start-server-webpack-plugin&#39;);\n\nmodule.exports = function(options) &#123;\n  return &#123;\n    ...options,\n    entry: [&#39;webpack/hot/poll?100&#39;, &#39;./src/main.ts&#39;],\n    watch: true,\n    externals: [\n      nodeExternals(&#123;\n        whitelist: [&#39;webpack/hot/poll?100&#39;],\n      &#125;),\n    ],\n    plugins: [\n      ...options.plugins,\n      new webpack.HotModuleReplacementPlugin(),\n      new webpack.WatchIgnorePlugin([/\\.js$/, /\\.d\\.ts$/]),\n      new StartServerPlugin(&#123; name: &#39;main.js&#39; &#125;),\n    ],\n  &#125;;\n&#125;;</code></pre>\n<p>This function takes the original object containing the default webpack configuration and returns a modified one with an applied <code>HotModuleReplacementPlugin</code> plugin.</p>\n<h4 appAnchor id=\"hot-module-replacement\"><span>Hot-Module Replacement</span></h4>\n<p>To enable <strong>HMR</strong>, open the application entry file (<code>main.ts</code>) and add the following webpack-related instructions:</p>\n<pre><code class=\"language-typescript\">\ndeclare const module: any;\n\nasync function bootstrap() &#123;\n  const app = await NestFactory.create(AppModule);\n  await app.listen(3000);\n\n  if (module.hot) &#123;\n    module.hot.accept();\n    module.hot.dispose(() =&gt; app.close());\n  &#125;\n&#125;\nbootstrap();</code></pre>\n<p>To simplify the execution process, add a script to your <code>package.json</code> file.</p>\n<pre><code class=\"language-json\">\n&quot;start:dev&quot;: &quot;nest build --watch --webpack --webpackPath webpack-hmr.config.js&quot;</code></pre>\n<p>Now simply open your command line and run the following command:</p>\n<pre><code class=\"language-bash\">\n$ npm run start:dev</code></pre>\n<h3 id=\"without-cli\">Without CLI</h3>\n<p>If you are not using the <a rel='nofollow' target='_blank' href=\"https://docs.nestjs.com/cli/overview\">Nest CLI</a>, the configuration will be slightly more complex (will require more manual steps).</p>\n<h4 appAnchor id=\"installation-1\"><span>Installation</span></h4>\n<p>First install the required packages:</p>\n<pre><code class=\"language-bash\">\n$ npm i --save-dev webpack webpack-cli webpack-node-externals ts-loader start-server-webpack-plugin</code></pre>\n<h4 appAnchor id=\"configuration-1\"><span>Configuration</span></h4>\n<p>Once the installation is complete, create a <code>webpack.config.js</code> file in the root directory of your application.</p>\n<pre><code class=\"language-typescript\">\nconst webpack = require(&#39;webpack&#39;);\nconst path = require(&#39;path&#39;);\nconst nodeExternals = require(&#39;webpack-node-externals&#39;);\nconst StartServerPlugin = require(&#39;start-server-webpack-plugin&#39;);\n\nmodule.exports = &#123;\n  entry: [&#39;webpack/hot/poll?100&#39;, &#39;./src/main.ts&#39;],\n  watch: true,\n  target: &#39;node&#39;,\n  externals: [\n    nodeExternals(&#123;\n      whitelist: [&#39;webpack/hot/poll?100&#39;],\n    &#125;),\n  ],\n  module: &#123;\n    rules: [\n      &#123;\n        test: /.tsx?$/,\n        use: &#39;ts-loader&#39;,\n        exclude: /node_modules/,\n      &#125;,\n    ],\n  &#125;,\n  mode: &#39;development&#39;,\n  resolve: &#123;\n    extensions: [&#39;.tsx&#39;, &#39;.ts&#39;, &#39;.js&#39;],\n  &#125;,\n  plugins: [\n    new webpack.HotModuleReplacementPlugin(),\n    new StartServerPlugin(&#123; name: &#39;server.js&#39; &#125;),\n  ],\n  output: &#123;\n    path: path.join(__dirname, &#39;dist&#39;),\n    filename: &#39;server.js&#39;,\n  &#125;,\n&#125;;</code></pre>\n<p>This configuration tells webpack a few essential things about your application: location of the entry file, which directory should be used to hold <strong>compiled</strong> files, and what kind of loader we want to use to compile source files. Generally, you should be able to use this file as-is, even if you don&#39;t fully understand all of the options.</p>\n<h4 appAnchor id=\"hot-module-replacement-1\"><span>Hot-Module Replacement</span></h4>\n<p>To enable <strong>HMR</strong>, open the application entry file (<code>main.ts</code>) and add the following webpack-related instructions:</p>\n<pre><code class=\"language-typescript\">\ndeclare const module: any;\n\nasync function bootstrap() &#123;\n  const app = await NestFactory.create(AppModule);\n  await app.listen(3000);\n\n  if (module.hot) &#123;\n    module.hot.accept();\n    module.hot.dispose(() =&gt; app.close());\n  &#125;\n&#125;\nbootstrap();</code></pre>\n<p>To simplify the execution process, add a script to your <code>package.json</code> file.</p>\n<pre><code class=\"language-json\">\n&quot;start:dev&quot;: &quot;webpack --config webpack.config.js&quot;</code></pre>\n<p>Now simply open your command line and run the following command:</p>\n<pre><code class=\"language-bash\">\n$ npm run start:dev</code></pre>\n<p>A working example is available <a rel='nofollow' target='_blank' href=\"https://github.com/nestjs/nest/tree/master/sample/08-webpack\">here</a>.</p>\n\n</div>\n\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-mongodb',\n  templateUrl: './mongodb.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MongodbComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/recipes/mongodb.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"mongodb-mongoose\">MongoDB (Mongoose)</h3>\n<blockquote class=\"\n\"><strong>Warning</strong> In this article, you&#39;ll learn how to create a <code>DatabaseModule</code> based on the <strong>Mongoose</strong> package from scratch using custom components. As a consequence, this solution contains a lot of overhead that you can omit using ready to use and available out-of-the-box dedicated <code>@nestjs/mongoose</code> package. To learn more, see <a routerLink=\"/techniques/mongodb\">here</a>.\n</blockquote>\n<p><a rel='nofollow' target='_blank' href=\"http://mongoosejs.com\">Mongoose</a> is the most popular <a rel='nofollow' target='_blank' href=\"https://www.mongodb.org/\">MongoDB</a> object modeling tool.</p>\n<h4 appAnchor id=\"getting-started\"><span>Getting started</span></h4>\n<p>To start the adventure with this library we have to install all required dependencies:</p>\n\n<span class=\"filename\">\n<app-tabs #app4d37149deaa0a6b42a693e76292fe278b06f58f5></app-tabs>\n</span><pre [class.hide]=\"app4d37149deaa0a6b42a693e76292fe278b06f58f5.isJsActive\"><code class=\"language-typescript\">\n$ npm install --save mongoose\n$ npm install --save-dev @types/mongoose</code></pre>\n<pre [class.hide]=\"!app4d37149deaa0a6b42a693e76292fe278b06f58f5.isJsActive\"><code class=\"language-typescript\">\n$ npm install --save mongoose</code></pre><p>The first step we need to do is to establish the connection with our database using <code>connect()</code> function. The <code>connect()</code> function returns a <code>Promise</code>, and therefore we have to create an <a routerLink=\"/fundamentals/async-components\">async provider</a>.</p>\n\n<span class=\"filename\">\n  {{ 'database.providers' | extension: app3dfc07faac8f137ac900471f754d6c67158a13b4.isJsActive }}\n<app-tabs #app3dfc07faac8f137ac900471f754d6c67158a13b4></app-tabs>\n</span><pre [class.hide]=\"app3dfc07faac8f137ac900471f754d6c67158a13b4.isJsActive\"><code class=\"language-typescript\">\nimport * as mongoose from &#39;mongoose&#39;;\n\nexport const databaseProviders = [\n  &#123;\n    provide: &#39;DATABASE_CONNECTION&#39;,\n    useFactory: (): Promise&lt;typeof mongoose&gt; =&gt;\n      mongoose.connect(&#39;mongodb://localhost/nest&#39;),\n  &#125;,\n];</code></pre>\n<pre [class.hide]=\"!app3dfc07faac8f137ac900471f754d6c67158a13b4.isJsActive\"><code class=\"language-typescript\">\nimport * as mongoose from &#39;mongoose&#39;;\n\nexport const databaseProviders = [\n  &#123;\n    provide: &#39;DATABASE_CONNECTION&#39;,\n    useFactory: () =&gt; mongoose.connect(&#39;mongodb://localhost/nest&#39;),\n  &#125;,\n];</code></pre><blockquote class=\"\ninfo \"><strong>Hint</strong> Following best practices, we declared the custom provider in the separated file which has a <code>*.providers.ts</code> suffix.\n</blockquote>\n<p>Then, we need to export these providers to make them <strong>accessible</strong> for the rest part of the application.</p>\n\n<span class=\"filename\">\n  {{ 'database.module' | extension: app6d74c25a66154f33a13c77930f994a8f52908837.isJsActive }}\n<app-tabs #app6d74c25a66154f33a13c77930f994a8f52908837></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Module &#125; from &#39;@nestjs/common&#39;;\nimport &#123; databaseProviders &#125; from &#39;./database.providers&#39;;\n\n@Module(&#123;\n  providers: [...databaseProviders],\n  exports: [...databaseProviders],\n&#125;)\nexport class DatabaseModule &#123;&#125;</code></pre><p>Now we can inject the <code>Connection</code> object using <code>@Inject()</code> decorator. Each class that would depend on the <code>Connection</code> async provider will wait until a <code>Promise</code> is resolved.</p>\n<h4 appAnchor id=\"model-injection\"><span>Model injection</span></h4>\n<p>With Mongoose, everything is derived from a <a rel='nofollow' target='_blank' href=\"http://mongoosejs.com/docs/guide.html\">Schema</a>. Let&#39;s define the <code>CatSchema</code>:</p>\n\n<span class=\"filename\">\n  {{ 'schemas/cat.schema' | extension: appd480a93c8965756ae3c9975a66bde50d3d72fd01.isJsActive }}\n<app-tabs #appd480a93c8965756ae3c9975a66bde50d3d72fd01></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport * as mongoose from &#39;mongoose&#39;;\n\nexport const CatSchema = new mongoose.Schema(&#123;\n  name: String,\n  age: Number,\n  breed: String,\n&#125;);</code></pre><p>The <code>CatsSchema</code> belongs to the <code>cats</code> directory. This directory represents the <code>CatsModule</code>.</p>\n<p>Now it&#39;s time to create a <strong>Model</strong> provider:</p>\n\n<span class=\"filename\">\n  {{ 'cats.providers' | extension: appf7375d018349b7f6c1a065419f08ec0ee2e92108.isJsActive }}\n<app-tabs #appf7375d018349b7f6c1a065419f08ec0ee2e92108></app-tabs>\n</span><pre [class.hide]=\"appf7375d018349b7f6c1a065419f08ec0ee2e92108.isJsActive\"><code class=\"language-typescript\">\nimport &#123; Connection &#125; from &#39;mongoose&#39;;\nimport &#123; CatSchema &#125; from &#39;./schemas/cat.schema&#39;;\n\nexport const catsProviders = [\n  &#123;\n    provide: &#39;CAT_MODEL&#39;,\n    useFactory: (connection: Connection) =&gt; connection.model(&#39;Cat&#39;, CatSchema),\n    inject: [&#39;DATABASE_CONNECTION&#39;],\n  &#125;,\n];</code></pre>\n<pre [class.hide]=\"!appf7375d018349b7f6c1a065419f08ec0ee2e92108.isJsActive\"><code class=\"language-typescript\">\nimport &#123; CatSchema &#125; from &#39;./schemas/cat.schema&#39;;\n\nexport const catsProviders = [\n  &#123;\n    provide: &#39;CAT_MODEL&#39;,\n    useFactory: (connection) =&gt; connection.model(&#39;Cat&#39;, CatSchema),\n    inject: [&#39;DATABASE_CONNECTION&#39;],\n  &#125;,\n];</code></pre><blockquote class=\"\n\"><strong>Notice</strong> In the real-world applications you should avoid <strong>magic strings</strong>. Both <code>CAT_MODEL</code> and <code>DATABASE_CONNECTION</code> should be kept in the separated <code>constants.ts</code> file.\n</blockquote>\n<p>Now we can inject the <code>CAT_MODEL</code> to the <code>CatsService</code> using the <code>@Inject()</code> decorator:</p>\n\n<span class=\"filename\">\n  {{ 'cats.service' | extension: app2a3643ad0ff2b7de870d462e925d45cdfb882891.isJsActive }}\n<app-tabs #app2a3643ad0ff2b7de870d462e925d45cdfb882891></app-tabs>\n</span><pre [class.hide]=\"app2a3643ad0ff2b7de870d462e925d45cdfb882891.isJsActive\"><code class=\"language-typescript\">\nimport &#123; Model &#125; from &#39;mongoose&#39;;\nimport &#123; Injectable, Inject &#125; from &#39;@nestjs/common&#39;;\nimport &#123; Cat &#125; from &#39;./interfaces/cat.interface&#39;;\nimport &#123; CreateCatDto &#125; from &#39;./dto/create-cat.dto&#39;;\n\n@Injectable()\nexport class CatsService &#123;\n  constructor(\n    @Inject(&#39;CAT_MODEL&#39;)\n    private readonly catModel: Model&lt;Cat&gt;,\n  ) &#123;&#125;\n\n  async create(createCatDto: CreateCatDto): Promise&lt;Cat&gt; &#123;\n    const createdCat = new this.catModel(createCatDto);\n    return createdCat.save();\n  &#125;\n\n  async findAll(): Promise&lt;Cat[]&gt; &#123;\n    return this.catModel.find().exec();\n  &#125;\n&#125;</code></pre>\n<pre [class.hide]=\"!app2a3643ad0ff2b7de870d462e925d45cdfb882891.isJsActive\"><code class=\"language-typescript\">\nimport &#123; Injectable, Dependencies &#125; from &#39;@nestjs/common&#39;;\n\n@Injectable()\n@Dependencies(&#39;CAT_MODEL&#39;)\nexport class CatsService &#123;\n  constructor(catModel) &#123;\n    this.catModel = catModel;\n  &#125;\n\n  async create(createCatDto) &#123;\n    const createdCat = new this.catModel(createCatDto);\n    return createdCat.save();\n  &#125;\n\n  async findAll() &#123;\n    return this.catModel.find().exec();\n  &#125;\n&#125;</code></pre><p>In the above example we have used the <code>Cat</code> interface. This interface extends the <code>Document</code> from the mongoose package:</p>\n<pre><code class=\"language-typescript\">\nimport &#123; Document &#125; from &#39;mongoose&#39;;\n\nexport interface Cat extends Document &#123;\n  readonly name: string;\n  readonly age: number;\n  readonly breed: string;\n&#125;</code></pre>\n<p>The database connection is <strong>asynchronous</strong>, but Nest makes this process completely invisible for the end-user. The <code>CatModel</code> class is waiting for the db connection, and the <code>CatsService</code> is delayed until model is ready to use. The entire application can start when each class is instantiated.</p>\n<p>Here is a final <code>CatsModule</code>:</p>\n\n<span class=\"filename\">\n  {{ 'cats.module' | extension: appc095cdb746d4ff99cba3ed5e4eb6cb4316fd426e.isJsActive }}\n<app-tabs #appc095cdb746d4ff99cba3ed5e4eb6cb4316fd426e></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Module &#125; from &#39;@nestjs/common&#39;;\nimport &#123; CatsController &#125; from &#39;./cats.controller&#39;;\nimport &#123; CatsService &#125; from &#39;./cats.service&#39;;\nimport &#123; catsProviders &#125; from &#39;./cats.providers&#39;;\nimport &#123; DatabaseModule &#125; from &#39;../database/database.module&#39;;\n\n@Module(&#123;\n  imports: [DatabaseModule],\n  controllers: [CatsController],\n  providers: [\n    CatsService,\n    ...catsProviders,\n  ],\n&#125;)\nexport class CatsModule &#123;&#125;</code></pre><blockquote class=\"\nwarning \"><strong>Hint</strong> Do not forget to import the <code>CatsModule</code> into the root <code>ApplicationModule</code>.\n</blockquote>\n\n</div>\n\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-prisma',\n  templateUrl: './prisma.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PrismaComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/recipes/prisma.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"prisma\">Prisma</h3>\n<p><a rel='nofollow' target='_blank' href=\"https://www.prisma.io/\">Prisma</a> turns your database into a GraphQL API and enables the use of GraphQL as a universal query language for all databases. Instead of writing SQL or using a NoSQL API, you can query your database with GraphQL. In this chapter we won&#39;t go into details about Prisma, so head over to their website and have a look what <a rel='nofollow' target='_blank' href=\"https://www.prisma.io/features/\">features</a> are available.</p>\n<blockquote class=\"\nwarning \"><strong>Notice</strong> In this article, you&#39;ll learn how to integrate <code>Prisma</code> into the Nest framework. We assume that you are already familiar with the GraphQL concepts and the <code>@nestjs/graphql</code> module.\n</blockquote>\n<h4 appAnchor id=\"dependencies\"><span>Dependencies</span></h4>\n<p>Firstly, we need to install the required packages:</p>\n<pre><code class=\"language-bash\">\n$ npm install --save prisma-binding</code></pre>\n<h4 appAnchor id=\"setup-prisma\"><span>Setup Prisma</span></h4>\n<p>While working with Prisma you can either host your own instance or use the <a rel='nofollow' target='_blank' href=\"https://www.prisma.io/cloud/\">Prisma Cloud</a>. In this introduction we are going to use the demo server provided by Prisma.</p>\n<ol>\n<li>Install the Prisma CLI <code>npm install -g prisma</code></li>\n<li>Create a new service <code>prisma init</code>, choose the demo server and follow the instructions</li>\n<li>Deploy your service <code>prisma deploy</code></li>\n</ol>\n<p>If you find yourself in trouble jump over to their <a rel='nofollow' target='_blank' href=\"https://www.prisma.io/docs/quickstart/\">Quick Start</a> section for further details. Eventually you should see two new files in your project directory, <code>prisma.yaml</code> configuration file:</p>\n<pre><code class=\"language-yaml\">\nendpoint: https://us1.prisma.sh/nest-f6ec12/prisma/dev\ndatamodel: datamodel.graphql</code></pre>\n<p>and automatically created data model, <code>datamodel.graphql</code>.</p>\n<pre><code class=\"language-graphql\">\ntype User &#123;\n  id: ID! @unique\n  name: String!\n&#125;</code></pre>\n<blockquote class=\"\nwarning \"><strong>Notice</strong> In the real-world applications you will create more complex data models. For more information about data modeling in Prisma click <a rel='nofollow' target='_blank' href=\"https://www.prisma.io/features/data-modeling/\">here</a>.\n</blockquote>\n<p>By typing <code>prisma playground</code> you can open the Prisma GraphQL playground.</p>\n<h4 appAnchor id=\"create-the-client\"><span>Create the client</span></h4>\n<p>There are a couple of ways to integrate a GraphQL API. We are going to use <a rel='nofollow' target='_blank' href=\"https://www.npmjs.com/package/graphql-cli\">GraphQL CLI</a>, a command line tool for common GraphQL development workflows. To install the GraphQL CLI use the following command:</p>\n<pre><code class=\"language-bash\">\n$ npm install -g graphql-cli</code></pre>\n<p>Next, create your <code>.graphqlconfig</code> in the root directory of the your Nest application:</p>\n<pre><code class=\"language-bash\">\n$ touch .graphqlconfig.yml</code></pre>\n<p>Put the following content into it:</p>\n<pre><code class=\"language-yaml\">\nprojects:\n  database:\n    schemaPath: src/prisma/prisma-types.graphql\n    extensions:\n      endpoints:\n        default: https://us1.prisma.sh/nest-f6ec12/prisma/dev\n      codegen:\n        - generator: prisma-binding\n          language: typescript\n          output:\n            binding: src/prisma/prisma.binding.ts</code></pre>\n<p>To download your Prisma GraphQL schema to <code>prisma/prisma-types.graphql</code> and create your Prisma client under <code>prisma/prisma.binding.graphql</code>, run the following commands in your terminal:</p>\n<pre><code class=\"language-bash\">\n$ graphql get-schema --project database\n$ graphql codegen --project database</code></pre>\n<h4 appAnchor id=\"integration\"><span>Integration</span></h4>\n<p>Almost done. Now, let&#39;s create a module for our Prisma integration.</p>\n\n<span class=\"filename\">\n  {{ 'prisma.service' | extension: app7df270afba2a475f0298af801d3f1f05c4a75083.isJsActive }}\n<app-tabs #app7df270afba2a475f0298af801d3f1f05c4a75083></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Injectable &#125; from &#39;@nestjs/common&#39;;\nimport &#123; Prisma &#125; from &#39;./prisma.binding&#39;;\n\n@Injectable()\nexport class PrismaService extends Prisma &#123;\n  constructor() &#123;\n    super(&#123;\n      endpoint: &#39;https://us1.prisma.sh/nest-f6ec12/prisma/dev&#39;,\n      debug: false,\n    &#125;);\n  &#125;\n&#125;</code></pre><p>Once <code>PrismaService</code> is ready, we need to create a corresponding module.</p>\n\n<span class=\"filename\">\n  {{ 'prisma.module' | extension: appdb8e2d7c357ba4f1df852f262f2f0d13706f2b6f.isJsActive }}\n<app-tabs #appdb8e2d7c357ba4f1df852f262f2f0d13706f2b6f></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Module &#125; from &#39;@nestjs/common&#39;;\nimport &#123; PrismaService &#125; from &#39;./prisma.service&#39;;\n\n@Module(&#123;\n  providers: [PrismaService],\n  exports: [PrismaService],\n&#125;)\nexport class PrismaModule &#123;&#125;</code></pre><blockquote class=\"\ninfo \"><strong>Hint</strong> To create new modules and services in no time we can make use of the <a routerLink=\"/cli/overview\">Nest CLI</a>. To create a <code>PrismaModule</code> type <code>nest g module prisma</code> and for the service <code>nest g service prisma</code>\n</blockquote>\n<h4 appAnchor id=\"usage\"><span>Usage</span></h4>\n<p>To use your new service we are going to import the <code>PrismaModule</code> and inject the <code>PrismaService</code> into <code>UsersResolver</code>.</p>\n\n<span class=\"filename\">\n  {{ 'users.module' | extension: appef26848d71854a61e38026effc0559f37e849522.isJsActive }}\n<app-tabs #appef26848d71854a61e38026effc0559f37e849522></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Module &#125; from &#39;@nestjs/common&#39;;\nimport &#123; UsersResolver &#125; from &#39;./users.resolver&#39;;\nimport &#123; PrismaModule &#125; from &#39;../prisma/prisma.module&#39;;\n\n@Module(&#123;\n  imports: [PrismaModule],\n  providers: [UsersResolver],\n&#125;)\nexport class UsersModule &#123;&#125;</code></pre><p>Importing <code>PrismaModule</code> makes exported <code>PrismaService</code> available in the <code>UsersModule</code> context.</p>\n\n<span class=\"filename\">\n  {{ 'users.resolver' | extension: appca2231f0e9d5376b1b9f3e4aa3db809301d92eba.isJsActive }}\n<app-tabs #appca2231f0e9d5376b1b9f3e4aa3db809301d92eba></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Query, Resolver, Args, Info &#125; from &#39;@nestjs/graphql&#39;;\nimport &#123; PrismaService &#125; from &#39;../prisma/prisma.service&#39;;\nimport &#123; User &#125; from &#39;../graphql.schema&#39;;\n\n@Resolver()\nexport class UsersResolver &#123;\n  constructor(private readonly prisma: PrismaService) &#123;&#125;\n\n  @Query(&#39;users&#39;)\n  async getUsers(@Args() args, @Info() info): Promise&lt;User[]&gt; &#123;\n    return this.prisma.query.users(args, info);\n  &#125;\n&#125;</code></pre><h4 appAnchor id=\"example\"><span>Example</span></h4>\n<p>A slightly modified example is available <a rel='nofollow' target='_blank' href=\"https://github.com/nestjs/nest/tree/master/sample/22-graphql-prisma\">here</a>.</p>\n\n</div>\n\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { SharedModule } from '../../../shared/shared.module';\nimport { CqrsComponent } from './cqrs/cqrs.component';\nimport { CrudComponent } from './crud/crud.component';\nimport { DocumentationComponent } from './documentation/documentation.component';\nimport { HotReloadComponent } from './hot-reload/hot-reload.component';\nimport { MongodbComponent } from './mongodb/mongodb.component';\nimport { PrismaComponent } from './prisma/prisma.component';\nimport { ServeStaticComponent } from './serve-static/serve-static.component';\nimport { SqlSequelizeComponent } from './sql-sequelize/sql-sequelize.component';\nimport { SqlTypeormComponent } from './sql-typeorm/sql-typeorm.component';\nimport { SwaggerComponent } from './swagger/swagger.component';\nimport { TerminusComponent } from './terminus/terminus.component';\n\nconst routes: Routes = [\n  {\n    path: 'sql-typeorm',\n    component: SqlTypeormComponent,\n    data: { title: 'SQL (TypeORM)' },\n  },\n  {\n    path: 'mongodb',\n    component: MongodbComponent,\n    data: { title: 'MongoDB (Mongoose)' },\n  },\n  {\n    path: 'sql-sequelize',\n    component: SqlSequelizeComponent,\n    data: { title: 'SQL (Sequelize)' },\n  },\n  {\n    path: 'cqrs',\n    component: CqrsComponent,\n    data: { title: 'CQRS' },\n  },\n  {\n    path: 'swagger',\n    component: SwaggerComponent,\n    data: { title: 'OpenAPI (Swagger)' },\n  },\n  {\n    path: 'prisma',\n    component: PrismaComponent,\n    data: { title: 'Prisma' },\n  },\n  {\n    path: 'terminus',\n    component: TerminusComponent,\n    data: { title: 'Health checks (Terminus)' },\n  },\n  {\n    path: 'documentation',\n    component: DocumentationComponent,\n    data: { title: 'Documentation (Compodoc)' },\n  },\n  {\n    path: 'crud-utilities',\n    redirectTo: '/controllers',\n  },\n  {\n    path: 'crud',\n    redirectTo: '/controllers',\n  },\n  {\n    path: 'hot-reload',\n    component: HotReloadComponent,\n    data: { title: 'Hot reload' },\n  },\n  {\n    path: 'serve-static',\n    component: ServeStaticComponent,\n    data: { title: 'Serve Static' },\n  },\n];\n\n@NgModule({\n  imports: [CommonModule, SharedModule, RouterModule.forChild(routes)],\n  declarations: [\n    SqlTypeormComponent,\n    SqlSequelizeComponent,\n    MongodbComponent,\n    SwaggerComponent,\n    PrismaComponent,\n    CqrsComponent,\n    HotReloadComponent,\n    TerminusComponent,\n    DocumentationComponent,\n    CrudComponent,\n    ServeStaticComponent,\n  ],\n})\nexport class RecipesModule {}\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-serve-static',\n  templateUrl: './serve-static.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ServeStaticComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/recipes/serve-static.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"serve-static\">Serve Static</h3>\n<p>In order to serve static content like a Single Page Application (SPA) we can use the <code>ServeStaticModule</code> from the <code>@nestjs/serve-static</code> package.</p>\n<h4 appAnchor id=\"installation\"><span>Installation</span></h4>\n<p>First we need to install the required package:</p>\n<pre><code class=\"language-bash\">\n$ npm install --save @nestjs/serve-static</code></pre>\n<h4 appAnchor id=\"bootstrap\"><span>Bootstrap</span></h4>\n<p>Once the installation process is done, we can import the <code>ServeStaticModule</code> into the root <code>AppModule</code> and configure it by passing in a configuration object to the <code>forRoot()</code> method.</p>\n<pre><code class=\"language-typescript\">\nimport &#123; Module &#125; from &#39;@nestjs/common&#39;;\nimport &#123; AppController &#125; from &#39;./app.controller&#39;;\nimport &#123; AppService &#125; from &#39;./app.service&#39;;\nimport &#123; ServeStaticModule &#125; from &#39;@nestjs/serve-static&#39;;\nimport &#123; join &#125; from &#39;path&#39;;\n\n@Module(&#123;\n  imports: [\n    ServeStaticModule.forRoot(&#123;\n      rootPath: join(__dirname, &#39;..&#39;, &#39;client&#39;),\n    &#125;),\n  ],\n  controllers: [AppController],\n  providers: [AppService],\n&#125;)\nexport class AppModule &#123;&#125;</code></pre>\n<p>With this in place, build the static website and place its content in the location specified by the <code>rootPath</code> property.</p>\n<h4 appAnchor id=\"summary\"><span>Summary</span></h4>\n<p>A working example is available <a rel='nofollow' target='_blank' href=\"https://github.com/nestjs/nest/tree/master/sample/24-serve-static\">here</a>.</p>\n\n</div>\n\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-sql-sequelize',\n  templateUrl: './sql-sequelize.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SqlSequelizeComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/recipes/sql-sequelize.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"sql-sequelize\">SQL (Sequelize)</h3>\n<h5 id=\"this-chapter-applies-only-to-typescript\">This chapter applies only to TypeScript</h5>\n<p><a rel='nofollow' target='_blank' href=\"https://github.com/sequelize/sequelize\">Sequelize</a> is a popular Object Relational Mapper (ORM) written in a vanilla JavaScript, but there is a <a rel='nofollow' target='_blank' href=\"https://github.com/RobinBuschmann/sequelize-typescript\">sequelize-typescript</a> TypeScript wrapper which provides a set of decorators and other extras for the base sequelize.</p>\n<h4 appAnchor id=\"getting-started\"><span>Getting started</span></h4>\n<p>To start the adventure with this library we have to install the following dependencies:</p>\n<pre><code class=\"language-bash\">\n$ npm install --save sequelize sequelize-typescript mysql2\n$ npm install --save-dev @types/sequelize</code></pre>\n<p>The first step we need to do is create a <strong>Sequelize</strong> instance with an options object passed into the constructor. Also, we need to add all models (the alternative is to use <code>modelPaths</code> property) and <code>sync()</code> our database tables.</p>\n\n<span class=\"filename\">\n  {{ 'database.providers' | extension: appfe13b18ee73ec8d18767aa3f83e878f9a7d73c36.isJsActive }}\n<app-tabs #appfe13b18ee73ec8d18767aa3f83e878f9a7d73c36></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Sequelize &#125; from &#39;sequelize-typescript&#39;;\nimport &#123; Cat &#125; from &#39;../cats/cat.entity&#39;;\n\nexport const databaseProviders = [\n  &#123;\n    provide: &#39;SEQUELIZE&#39;,\n    useFactory: async () =&gt; &#123;\n      const sequelize = new Sequelize(&#123;\n        dialect: &#39;mysql&#39;,\n        host: &#39;localhost&#39;,\n        port: 3306,\n        username: &#39;root&#39;,\n        password: &#39;password&#39;,\n        database: &#39;nest&#39;,\n      &#125;);\n      sequelize.addModels([Cat]);\n      await sequelize.sync();\n      return sequelize;\n    &#125;,\n  &#125;,\n];</code></pre><blockquote class=\"\nwarning \"><strong>Hint</strong> Following best practices, we declared the custom provider in the separated file which has a <code>*.providers.ts</code> suffix.\n</blockquote>\n<p>Then, we need to export these providers to make them <strong>accessible</strong> for the rest part of the application.</p>\n<pre><code class=\"language-typescript\">\nimport &#123; Module &#125; from &#39;@nestjs/common&#39;;\nimport &#123; databaseProviders &#125; from &#39;./database.providers&#39;;\n\n@Module(&#123;\n  providers: [...databaseProviders],\n  exports: [...databaseProviders],\n&#125;)\nexport class DatabaseModule &#123;&#125;</code></pre>\n<p>Now we can inject the <code>Sequelize</code> object using <code>@Inject()</code> decorator. Each class that would depend on the <code>Sequelize</code> async provider will wait until a <code>Promise</code> is resolved.</p>\n<h4 appAnchor id=\"model-injection\"><span>Model injection</span></h4>\n<p>In <a rel='nofollow' target='_blank' href=\"https://github.com/sequelize/sequelize\">Sequelize</a> the <strong>Model</strong> defines a table in the database. Instances of this class represent a database row. Firstly, we need at least one entity:</p>\n\n<span class=\"filename\">\n  {{ 'cat.entity' | extension: app66d98cc4864883cc691f4425ea4d2d186f3255a3.isJsActive }}\n<app-tabs #app66d98cc4864883cc691f4425ea4d2d186f3255a3></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Table, Column, Model &#125; from &#39;sequelize-typescript&#39;;\n\n@Table\nexport class Cat extends Model&lt;Cat&gt; &#123;\n  @Column\n  name: string;\n\n  @Column\n  age: number;\n\n  @Column\n  breed: string;\n&#125;</code></pre><p>The <code>Cat</code> entity belongs to the <code>cats</code> directory. This directory represents the <code>CatsModule</code>. Now it&#39;s time to create a <strong>Repository</strong> provider:</p>\n\n<span class=\"filename\">\n  {{ 'cats.providers' | extension: app7b6f4cbf5473ab557bc10e1347224f2a384ced43.isJsActive }}\n<app-tabs #app7b6f4cbf5473ab557bc10e1347224f2a384ced43></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Cat &#125; from &#39;./cat.entity&#39;;\n\nexport const catsProviders = [\n  &#123;\n    provide: &#39;CATS_REPOSITORY&#39;,\n    useValue: Cat,\n  &#125;,\n];</code></pre><blockquote class=\"\n\"><strong>Notice</strong> In the real-world applications you should avoid <strong>magic strings</strong>. Both <code>CATS_REPOSITORY</code> and <code>SEQUELIZE</code> should be kept in the separated <code>constants.ts</code> file.\n</blockquote>\n<p>In Sequelize, we use static methods to manipulate the data, and thus we created an <strong>alias</strong> here.</p>\n<p>Now we can inject the <code>CATS_REPOSITORY</code> to the <code>CatsService</code> using the <code>@Inject()</code> decorator:</p>\n\n<span class=\"filename\">\n  {{ 'cats.service' | extension: appa8b84f9749ab38c84d16e855f09a7fc5b843af04.isJsActive }}\n<app-tabs #appa8b84f9749ab38c84d16e855f09a7fc5b843af04></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Injectable, Inject &#125; from &#39;@nestjs/common&#39;;\nimport &#123; CreateCatDto &#125; from &#39;./dto/create-cat.dto&#39;;\nimport &#123; Cat &#125; from &#39;./cat.entity&#39;;\n\n@Injectable()\nexport class CatsService &#123;\n  constructor(\n    @Inject(&#39;CATS_REPOSITORY&#39;) private readonly catsRepository: typeof Cat) &#123;&#125;\n\n  async findAll(): Promise&lt;Cat[]&gt; &#123;\n    return this.catsRepository.findAll&lt;Cat&gt;();\n  &#125;\n&#125;</code></pre><p>The database connection is <strong>asynchronous</strong>, but Nest makes this process completely invisible for the end-user. The <code>CATS_REPOSITORY</code> provider is waiting for the db connection, and the <code>CatsService</code> is delayed until repository is ready to use. The entire application can start when each class is instantiated.</p>\n<p>Here is a final <code>CatsModule</code>:</p>\n\n<span class=\"filename\">\n  {{ 'cats.module' | extension: app5eaafd28f38154e5790128addba8e570c44151d1.isJsActive }}\n<app-tabs #app5eaafd28f38154e5790128addba8e570c44151d1></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Module &#125; from &#39;@nestjs/common&#39;;\nimport &#123; CatsController &#125; from &#39;./cats.controller&#39;;\nimport &#123; CatsService &#125; from &#39;./cats.service&#39;;\nimport &#123; catsProviders &#125; from &#39;./cats.providers&#39;;\nimport &#123; DatabaseModule &#125; from &#39;../database/database.module&#39;;\n\n@Module(&#123;\n  imports: [DatabaseModule],\n  controllers: [CatsController],\n  providers: [\n    CatsService,\n    ...catsProviders,\n  ],\n&#125;)\nexport class CatsModule &#123;&#125;</code></pre><blockquote class=\"\nwarning \"><strong>Hint</strong> Do not forget to import the <code>CatsModule</code> into the root <code>ApplicationModule</code>.\n</blockquote>\n\n</div>\n\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-sql-typeorm',\n  templateUrl: './sql-typeorm.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SqlTypeormComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/recipes/sql-typeorm.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"sql-typeorm\">SQL (TypeORM)</h3>\n<h5 id=\"this-chapter-applies-only-to-typescript\">This chapter applies only to TypeScript</h5>\n<blockquote class=\"\n\"><strong>Warning</strong> In this article, you&#39;ll learn how to create a <code>DatabaseModule</code> based on the <strong>TypeORM</strong> package from scratch using custom providers mechanism. As a consequence, this solution contains a lot of overhead that you can omit using ready to use and available out-of-the-box dedicated <code>@nestjs/typeorm</code> package. To learn more, see <a routerLink=\"/techniques/sql\">here</a>.\n</blockquote>\n<p><a rel='nofollow' target='_blank' href=\"https://github.com/typeorm/typeorm\">TypeORM</a> is definitely the most mature Object Relational Mapper (ORM) available in the node.js world. Since it&#39;s written in TypeScript, it works pretty well with the Nest framework.</p>\n<h4 appAnchor id=\"getting-started\"><span>Getting started</span></h4>\n<p>To start the adventure with this library we have to install all required dependencies:</p>\n<pre><code class=\"language-bash\">\n$ npm install --save typeorm mysql</code></pre>\n<p>The first step we need to do is to establish the connection with our database using <code>createConnection()</code> function imported from the <code>typeorm</code> package. The <code>createConnection()</code> function returns a <code>Promise</code>, and therefore we have to create an <a routerLink=\"/fundamentals/async-components\">async provider</a>.</p>\n\n<span class=\"filename\">\n  {{ 'database.providers' | extension: app535b76866fa1db98a28e54a18ff3b91f4d2dabba.isJsActive }}\n<app-tabs #app535b76866fa1db98a28e54a18ff3b91f4d2dabba></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; createConnection &#125; from &#39;typeorm&#39;;\n\nexport const databaseProviders = [\n  &#123;\n    provide: &#39;DATABASE_CONNECTION&#39;,\n    useFactory: async () =&gt; await createConnection(&#123;\n      type: &#39;mysql&#39;,\n      host: &#39;localhost&#39;,\n      port: 3306,\n      username: &#39;root&#39;,\n      password: &#39;root&#39;,\n      database: &#39;test&#39;,\n      entities: [\n          __dirname + &#39;/../**/*.entity&#123;.ts,.js&#125;&#39;,\n      ],\n      synchronize: true,\n    &#125;),\n  &#125;,\n];</code></pre><blockquote class=\"\nwarning \"><strong>Hint</strong> Following best practices, we declared the custom provider in the separated file which has a <code>*.providers.ts</code> suffix.\n</blockquote>\n<p>Then, we need to export these providers to make them <strong>accessible</strong> for the rest of the application.</p>\n\n<span class=\"filename\">\n  {{ 'database.module' | extension: app65e8da154e1b5e2e14f2a39fef212fa2556e7ca7.isJsActive }}\n<app-tabs #app65e8da154e1b5e2e14f2a39fef212fa2556e7ca7></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Module &#125; from &#39;@nestjs/common&#39;;\nimport &#123; databaseProviders &#125; from &#39;./database.providers&#39;;\n\n@Module(&#123;\n  providers: [...databaseProviders],\n  exports: [...databaseProviders],\n&#125;)\nexport class DatabaseModule &#123;&#125;</code></pre><p>Now we can inject the <code>Connection</code> object using <code>@Inject()</code> decorator. Each class that would depend on the <code>Connection</code> async provider will wait until a <code>Promise</code> is resolved.</p>\n<h4 appAnchor id=\"repository-pattern\"><span>Repository pattern</span></h4>\n<p>The <a rel='nofollow' target='_blank' href=\"https://github.com/typeorm/typeorm\">TypeORM</a> supports the repository design pattern, thus each entity has its own Repository. These repositories can be obtained from the database connection.</p>\n<p>But firstly, we need at least one entity. We are going to reuse the <code>Photo</code> entity from the official documentation.</p>\n\n<span class=\"filename\">\n  {{ 'photo.entity' | extension: app5e06b386596932c790cfb6a7bcb07d00322667d2.isJsActive }}\n<app-tabs #app5e06b386596932c790cfb6a7bcb07d00322667d2></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Entity, Column, PrimaryGeneratedColumn &#125; from &#39;typeorm&#39;;\n\n@Entity()\nexport class Photo &#123;\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @Column(&#123; length: 500 &#125;)\n  name: string;\n\n  @Column(&#39;text&#39;)\n  description: string;\n\n  @Column()\n  filename: string;\n\n  @Column(&#39;int&#39;)\n  views: number;\n\n  @Column()\n  isPublished: boolean;\n&#125;</code></pre><p>The <code>Photo</code> entity belongs to the <code>photo</code> directory. This directory represents the <code>PhotoModule</code>. Now, let&#39;s create a <strong>Repository</strong> provider:</p>\n\n<span class=\"filename\">\n  {{ 'photo.providers' | extension: appa0646c9248a851c1ddc4973a78510c6799ddd3ae.isJsActive }}\n<app-tabs #appa0646c9248a851c1ddc4973a78510c6799ddd3ae></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Connection, Repository &#125; from &#39;typeorm&#39;;\nimport &#123; Photo &#125; from &#39;./photo.entity&#39;;\n\nexport const photoProviders = [\n  &#123;\n    provide: &#39;PHOTO_REPOSITORY&#39;,\n    useFactory: (connection: Connection) =&gt; connection.getRepository(Photo),\n    inject: [&#39;DATABASE_CONNECTION&#39;],\n  &#125;,\n];</code></pre><blockquote class=\"\nwarning \"><strong>Notice</strong> In the real-world applications you should avoid <strong>magic strings</strong>. Both <code>PHOTO_REPOSITORY</code> and <code>DATABASE_CONNECTION</code> should be kept in the separated <code>constants.ts</code> file.\n</blockquote>\n<p>Now we can inject the <code>Repository&lt;Photo&gt;</code> to the <code>PhotoService</code> using the <code>@Inject()</code> decorator:</p>\n\n<span class=\"filename\">\n  {{ 'photo.service' | extension: app966de46010505708c35655c4bf9b06bc66b8ef5c.isJsActive }}\n<app-tabs #app966de46010505708c35655c4bf9b06bc66b8ef5c></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Injectable, Inject &#125; from &#39;@nestjs/common&#39;;\nimport &#123; Repository &#125; from &#39;typeorm&#39;;\nimport &#123; Photo &#125; from &#39;./photo.entity&#39;;\n\n@Injectable()\nexport class PhotoService &#123;\n  constructor(\n    @Inject(&#39;PHOTO_REPOSITORY&#39;)\n    private readonly photoRepository: Repository&lt;Photo&gt;,\n  ) &#123;&#125;\n\n  async findAll(): Promise&lt;Photo[]&gt; &#123;\n    return this.photoRepository.find();\n  &#125;\n&#125;</code></pre><p>The database connection is <strong>asynchronous</strong>, but Nest makes this process completely invisible for the end-user. The <code>PhotoRepository</code> is waiting for the db connection, and the <code>PhotoService</code> is delayed until repository is ready to use. The entire application can start when each class is instantiated.</p>\n<p>Here is a final <code>PhotoModule</code>:</p>\n\n<span class=\"filename\">\n  {{ 'photo.module' | extension: app987076725ec524f6efa168917a42d07d41af33e2.isJsActive }}\n<app-tabs #app987076725ec524f6efa168917a42d07d41af33e2></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Module &#125; from &#39;@nestjs/common&#39;;\nimport &#123; DatabaseModule &#125; from &#39;../database/database.module&#39;;\nimport &#123; photoProviders &#125; from &#39;./photo.providers&#39;;\nimport &#123; PhotoService &#125; from &#39;./photo.service&#39;;\n\n@Module(&#123;\n  imports: [DatabaseModule],\n  providers: [\n    ...photoProviders,\n    PhotoService,\n  ],\n&#125;)\nexport class PhotoModule &#123;&#125;</code></pre><blockquote class=\"\nwarning \"><strong>Hint</strong> Do not forget to import the <code>PhotoModule</code> into the root <code>ApplicationModule</code>.\n</blockquote>\n\n</div>\n\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-swagger',\n  templateUrl: './swagger.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SwaggerComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/recipes/swagger.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"openapi-swagger\">OpenAPI (Swagger)</h3>\n<p>The <a rel='nofollow' target='_blank' href=\"https://swagger.io/specification/\">OpenAPI</a> specification is a language-agnostic definition format used to describe RESTful APIs. Nest provides a dedicated <a rel='nofollow' target='_blank' href=\"https://github.com/nestjs/swagger\">module</a> which allows generating such a specification by leveraging decorators.</p>\n<h4 appAnchor id=\"installation\"><span>Installation</span></h4>\n<p>To begin using it, we first install the required dependencies.</p>\n<pre><code class=\"language-bash\">\n$ npm install --save @nestjs/swagger swagger-ui-express</code></pre>\n<p>If you use fastify, install <code>fastify-swagger</code> instead of <code>swagger-ui-express</code>:</p>\n<pre><code class=\"language-bash\">\n$ npm install --save @nestjs/swagger fastify-swagger</code></pre>\n<h4 appAnchor id=\"bootstrap\"><span>Bootstrap</span></h4>\n<p>Once the installation process is complete, open the <code>main.ts</code> file and initialize Swagger using the <code>SwaggerModule</code> class:</p>\n<pre><code class=\"language-typescript\">\nimport &#123; NestFactory &#125; from &#39;@nestjs/core&#39;;\nimport &#123; SwaggerModule, DocumentBuilder &#125; from &#39;@nestjs/swagger&#39;;\nimport &#123; AppModule &#125; from &#39;./app.module&#39;;\n\nasync function bootstrap() &#123;\n  const app = await NestFactory.create(AppModule);\n\n  const options = new DocumentBuilder()\n    .setTitle(&#39;Cats example&#39;)\n    .setDescription(&#39;The cats API description&#39;)\n    .setVersion(&#39;1.0&#39;)\n    .addTag(&#39;cats&#39;)\n    .build();\n  const document = SwaggerModule.createDocument(app, options);\n  SwaggerModule.setup(&#39;api&#39;, app, document);\n\n  await app.listen(3000);\n&#125;\nbootstrap();</code></pre>\n<p>The <code>DocumentBuilder</code> helps to structure a base document that conforms to the OpenAPI Specification. It provides several methods that allow setting such properties as title, description, version, etc. In order to create a full document (with all HTTP routes defined) we use the <code>createDocument()</code> method of the <code>SwaggerModule</code> class. This method takes two arguments, an application instance and a Swagger options object.</p>\n<p>Once we create a document, we can call <code>setup()</code> method. It accepts:</p>\n<ol>\n<li>the path to mount the Swagger UI</li>\n<li>an application instance</li>\n<li>the document object instantiated above</li>\n</ol>\n<p>Now you can run the following command to start the HTTP server:</p>\n<pre><code class=\"language-bash\">\n$ npm run start</code></pre>\n<p>While the application is running, open your browser and navigate to <code>http://localhost:3000/api</code>. You should see the Swagger UI.</p>\n<figure><img src=\"/assets/swagger1.png\" /></figure>\n\n<p>The <code>SwaggerModule</code> automatically reflects all of your endpoints. Also, in order to display the Swagger UI, <code>@nestjs/swagger</code> makes use of either <code>swagger-ui-express</code> or <code>fastify-swagger</code> depending on the platform.</p>\n<blockquote class=\"\ninfo \"><strong>Hint</strong> To generate and download a Swagger JSON file, navigate to <code>http://localhost:3000/api-json</code> in your browser (assuming that your Swagger documentation is available under <code>http://localhost:3000/api</code>).\n</blockquote>\n<h4 appAnchor id=\"route-parameters\"><span>Route parameters</span></h4>\n<p>The <code>SwaggerModule</code> searches for all <code>@Body()</code>, <code>@Query()</code>, and <code>@Param()</code> decorators in route handlers to generate the API document. It also creates corresponding model definitions by taking advantage of reflection. Consider the following code:</p>\n<pre><code class=\"language-typescript\">\n@Post()\nasync create(@Body() createCatDto: CreateCatDto) &#123;\n  this.catsService.create(createCatDto);\n&#125;</code></pre>\n<blockquote class=\"\ninfo \"><strong>Hint</strong> To explicitly set the body definition use the <code>@ApiBody()</code> decorator (<code>@nestjs/swagger</code> package).\n</blockquote>\n<p>Based on the <code>CreateCatDto</code>, the module definition will be created:</p>\n<figure><img src=\"/assets/swagger-dto.png\" /></figure>\n\n<p>As you can see, the definition is empty although the class has a few declared properties. In order to make the class properties visible to the <code>SwaggerModule</code>, we have to either annotate them with the <code>@ApiProperty()</code> decorator or use a CLI plugin (read more in the <strong>Plugin</strong> section) which will do it automatically:</p>\n<pre><code class=\"language-typescript\">\nimport &#123; ApiProperty &#125; from &#39;@nestjs/swagger&#39;;\n\nexport class CreateCatDto &#123;\n  @ApiProperty()\n  name: string;\n\n  @ApiProperty()\n  age: number;\n\n  @ApiProperty()\n  breed: string;\n&#125;</code></pre>\n<blockquote class=\"\ninfo \"><strong>Hint</strong> Consider using the Swagger plugin (see <a href=\"/recipes/swagger#plugin\">Plugin</a> section) which will automatically do it for you.\n</blockquote>\n<p>Let&#39;s open the browser and verify the generated <code>CreateCatDto</code> model:</p>\n<figure><img src=\"/assets/swagger-dto2.png\" /></figure>\n\n<p>In addition, the <code>@ApiProperty()</code> decorator allows setting various <a rel='nofollow' target='_blank' href=\"https://swagger.io/specification/#schemaObject\">Schema Object</a> properties:</p>\n<pre><code class=\"language-typescript\">\n@ApiProperty(&#123;\n  description: &#39;The age of a cat&#39;,\n  min: 1,\n  default: 1,\n&#125;)\nage: number;</code></pre>\n<blockquote class=\"\ninfo \"><strong>Hint</strong> Instead of explicitly typing the <code>{{&quot;@ApiProperty({ required: false })&quot;}}</code> you can use <code>@ApiPropertyOptional()</code> short-hand decorator.\n</blockquote>\n<p>In order to explicitly set the type of the property, use the <code>type</code> key:</p>\n<pre><code class=\"language-typescript\">\n@ApiProperty(&#123;\n  type: Number,\n&#125;)\nage: number;</code></pre>\n<h4 appAnchor id=\"enums\"><span>Enums</span></h4>\n<p>To identify an <code>enum</code>, we must manually set the <code>enum</code> property on the <code>@ApiProperty</code> with an array of values.</p>\n<pre><code class=\"language-typescript\">\n@ApiProperty(&#123; enum: [&#39;Admin&#39;, &#39;Moderator&#39;, &#39;User&#39;]&#125;)\nrole: UserRole;</code></pre>\n<p>Alternatively, define an actual TypeScript enum as follows:</p>\n<pre><code class=\"language-typescript\">\nexport enum UserRole &#123;\n  Admin = &#39;Admin&#39;,\n  Moderator = &#39;Moderator&#39;,\n  User = &#39;User&#39;,\n&#125;</code></pre>\n<p>You can then use the enum directly with the <code>@Query()</code> parameter decorator in combination with the <code>@ApiQuery()</code> decorator.</p>\n<pre><code class=\"language-typescript\">\n@ApiQuery(&#123; name: &#39;role&#39;, enum: UserRole &#125;)\nasync filterByRole(@Query(&#39;role&#39;) role: UserRole = UserRole.User) &#123;&#125;</code></pre>\n<figure><img src=\"/assets/enum_query.gif\" /></figure>\n\n<p>With <code>isArray</code> set to <strong>true</strong>, the <code>enum</code> can be selected as a <strong>multi-select</strong>:</p>\n<figure><img src=\"/assets/enum_query_array.gif\" /></figure>\n\n<h4 appAnchor id=\"enums-schema\"><span>Enums schema</span></h4>\n<p>By default, the <code>enum</code> property will add a raw definition of <a rel='nofollow' target='_blank' href=\"https://swagger.io/docs/specification/data-models/enums/\">Enum</a> on the <code>parameter</code>.</p>\n<pre><code class=\"language-yaml\">\nCatDetail:\n  type: &#39;object&#39;\n  properties:\n    ...\n    - breed:\n        type: &#39;string&#39;\n        enum:\n          - Persian\n          - Tabby\n          - Siamese</code></pre>\n<p>The above specification works fine for most cases. However, if you are utilizing a tool that takes the specification as <strong>input</strong> and generates <strong>client-side</strong> code, you might run into a problem with the generated code containing duplicated <code>enums</code>. Consider the following code snippet: </p>\n<pre><code class=\"language-typescript\">\n// generated client-side code\nexport class CatDetail &#123;\n   breed: CatDetailEnum;\n&#125;\n\nexport class CatInformation &#123;\n  breed: CatInformationEnum;\n&#125;\n\nexport enum CatDetailEnum &#123;\n  Persian = &#39;Persian&#39;,\n  Tabby = &#39;Tabby&#39;,\n  Siamese = &#39;Siamese&#39;\n&#125;\n\nexport enum CatInformationEnum &#123;\n  Persian = &#39;Persian&#39;,\n  Tabby = &#39;Tabby&#39;,\n  Siamese = &#39;Siamese&#39;\n&#125;</code></pre>\n<blockquote class=\"\ninfo \"><strong>Hint</strong> The above snippet is generated using a tool called <a rel='nofollow' target='_blank' href=\"https://github.com/RicoSuter/NSwag\">NSwag</a>.\n</blockquote>\n<p>You can see that now you have two <code>enums</code> that are exactly the same. \nTo address this issue, you can pass an <code>enumName</code> next to <code>enum</code> property in your decorator.</p>\n<pre><code class=\"language-typescript\">\nexport class CatDetail &#123;\n   @ApiProperty(&#123; enum: CatBreed, enumName: &#39;CatBreed&#39; &#125;)\n   breed: CatBreed;\n&#125;</code></pre>\n<p><code>enumName</code> enables <code>nestjs/swagger</code> to turn <code>CatBreed</code> into its own <code>schema</code> which in turns makes <code>CatBreed</code> reusable. The specification will look like the following:</p>\n<pre><code class=\"language-yaml\">\nCatDetail:\n  type: &#39;object&#39;\n  properties:\n    ...\n    - breed:\n        schema:\n          $ref: &#39;#/components/schemas/CatBreed&#39;\nCatBreed:\n  type: string\n  enum:\n    - Persian\n    - Tabby\n    - Siamese</code></pre>\n<blockquote class=\"\ninfo \"><strong>Hint</strong> Any <strong>decorator</strong> that takes <code>enum</code> as a property will also take <code>enumName</code>.\n</blockquote>\n<h4 appAnchor id=\"arrays\"><span>Arrays</span></h4>\n<p>When the property is an array, we must manually indicate the array type as shown below:</p>\n<pre><code class=\"language-typescript\">\n@ApiProperty(&#123; type: [String] &#125;)\nnames: string[];</code></pre>\n<blockquote class=\"\ninfo \"><strong>Hint</strong> Consider using the Swagger plugin (see <a href=\"/recipes/swagger#plugin\">Plugin</a> section) which will automatically detect arrays.\n</blockquote>\n<p>Either include the type as the first element of an array (as shown above) or set the <code>isArray</code> property to <code>true</code>.</p>\n<p><app-banner-enterprise></app-banner-enterprise></p>\n<h4 appAnchor id=\"circular-dependencies\"><span>Circular dependencies</span></h4>\n<p>When you have circular dependencies between classes, use a lazy function to provide the <code>SwaggerModule</code> with type information:</p>\n<pre><code class=\"language-typescript\">\n@ApiProperty(&#123; type: () =&gt; Node &#125;)\nnode: Node;</code></pre>\n<blockquote class=\"\ninfo \"><strong>Hint</strong> Consider using the Swagger plugin (see <a href=\"/recipes/swagger#plugin\">Plugin</a> section) which will automatically detect circular dependencies.\n</blockquote>\n<h4 appAnchor id=\"generics-and-interfaces\"><span>Generics and interfaces</span></h4>\n<p>Since TypeScript does not store metadata about generics or interfaces, when you use them in your DTOs, <code>SwaggerModule</code> may not be able to properly generate model definitions at runtime. For instance, below code won&#39;t be correctly inspected by the Swagger module:</p>\n<pre><code class=\"language-typescript\">\ncreateBulk(@Body() usersDto: CreateUserDto[])</code></pre>\n<p>In order to overcome this limitation, you can set the type explicitly:</p>\n<pre><code class=\"language-typescript\">\n@ApiBody(&#123; type: [CreateUserDto] &#125;)\ncreateBulk(@Body() usersDto: CreateUserDto[])</code></pre>\n<h4 appAnchor id=\"raw-definitions\"><span>Raw definitions</span></h4>\n<p>In some specific scenarios (e.g. deeply nested arrays, matrices), you may want to describe your type by hand.</p>\n<pre><code class=\"language-typescript\">\n@ApiProperty(&#123;\n  type: &#39;array&#39;,\n  items: &#123;\n    type: &#39;array&#39;,\n    items: &#123;\n      type: &#39;number&#39;,\n    &#125;,\n  &#125;,\n&#125;)\ncoords: number[][];</code></pre>\n<p>Likewise, in order to define your input/output content manually in controller classes, use the <code>schema</code> property:</p>\n<pre><code class=\"language-typescript\">\n@ApiBody(&#123;\n  schema: &#123;\n    type: &#39;array&#39;,\n    items: &#123;\n      type: &#39;array&#39;,\n      items: &#123;\n        type: &#39;number&#39;,\n      &#125;,\n    &#125;,\n  &#125;,\n&#125;)\nasync create(@Body() coords: number[][]) &#123;&#125;</code></pre>\n<h4 appAnchor id=\"extra-models\"><span>Extra models</span></h4>\n<p>In order to define additional models that should be inspected by Swagger module, use the <code>@ApiExtraModels()</code> decorator:</p>\n<pre><code class=\"language-typescript\">\n@ApiExtraModels(ExtraModel)\nexport class CreateCatDto &#123;&#125;</code></pre>\n<p>Then, you can get the reference (<code>$ref</code>) to your model using <code>getSchemaPath(ExtraModel)</code>:</p>\n<pre><code class=\"language-typescript\">\n&#39;application/vnd.api+json&#39;: &#123;\n   schema: &#123; $ref: getSchemaPath(ExtraModel) &#125;,\n&#125;,</code></pre>\n<h4 appAnchor id=\"oneof-anyof-allof\"><span>oneOf, anyOf, allOf</span></h4>\n<p>In order to combine schemas, you can use <code>oneOf</code>, <code>anyOf</code> or <code>allOf</code> keywords (<a rel='nofollow' target='_blank' href=\"https://swagger.io/docs/specification/data-models/oneof-anyof-allof-not/\">read more</a>).</p>\n<pre><code class=\"language-typescript\">\n@ApiProperty(&#123;\n  oneOf: [\n    &#123; $ref: getSchemaPath(Cat) &#125;,\n    &#123; $ref: getSchemaPath(Dog) &#125;,\n  ],\n&#125;)\npet: Cat | Dog;</code></pre>\n<blockquote class=\"\ninfo \"><strong>Hint</strong> <code>getSchemaPath()</code> function is imported from <code>@nestjs/swagger</code>.\n</blockquote>\n<p>Both <code>Cat</code> and <code>Dog</code> must be defined as extra models using the <code>@ApiExtraModels()</code> decorator (at the class-level).</p>\n<h4 appAnchor id=\"multiple-specifications\"><span>Multiple specifications</span></h4>\n<p>The <code>SwaggerModule</code> provides a way to support multiple specifications. In other words, you can serve different documentation, with different UIs, on different endpoints.</p>\n<p>To support multiple specifications, your application must be written with a modular approach. The <code>createDocument()</code> method takes in a 3rd argument, <code>extraOptions</code>, which is an object with a the property <code>include</code>. The <code>include</code> property has a value which is an array of modules.</p>\n<p>You can setup multiple specifications support as shown below:</p>\n<pre><code class=\"language-typescript\">\nimport &#123; NestFactory &#125; from &#39;@nestjs/core&#39;;\nimport &#123; SwaggerModule, DocumentBuilder &#125; from &#39;@nestjs/swagger&#39;;\nimport &#123; AppModule &#125; from &#39;./app.module&#39;;\n\nasync function bootstrap() &#123;\n  const app = await NestFactory.create(AppModule);\n\n  /**\n   * createDocument(application, configurationOptions, extraOptions);\n   *\n   * createDocument method takes in an optional 3rd argument &quot;extraOptions&quot;\n   * which is an object with &quot;include&quot; property where you can pass an Array\n   * of Modules that you want to include in that Swagger Specification\n   * E.g: CatsModule and DogsModule will have two separate Swagger Specifications which\n   * will be exposed on two different SwaggerUI with two different endpoints.\n   */\n\n  const options = new DocumentBuilder()\n    .setTitle(&#39;Cats example&#39;)\n    .setDescription(&#39;The cats API description&#39;)\n    .setVersion(&#39;1.0&#39;)\n    .addTag(&#39;cats&#39;)\n    .build();\n\n  const catDocument = SwaggerModule.createDocument(app, options, &#123;\n    include: [CatsModule],\n  &#125;);\n  SwaggerModule.setup(&#39;api/cats&#39;, app, catDocument);\n\n  const secondOptions = new DocumentBuilder()\n    .setTitle(&#39;Dogs example&#39;)\n    .setDescription(&#39;The dogs API description&#39;)\n    .setVersion(&#39;1.0&#39;)\n    .addTag(&#39;dogs&#39;)\n    .build();\n\n  const dogDocument = SwaggerModule.createDocument(app, secondOptions, &#123;\n    include: [DogsModule],\n  &#125;);\n  SwaggerModule.setup(&#39;api/dogs&#39;, app, dogDocument);\n\n  await app.listen(3000);\n&#125;\nbootstrap();</code></pre>\n<p>Now you can start your server with the following command:</p>\n<pre><code class=\"language-bash\">\n$ npm run start</code></pre>\n<p>Navigate to <code>http://localhost:3000/api/cats</code> to see the Swagger UI for cats:</p>\n<figure><img src=\"/assets/swagger-cats.png\" /></figure>\n\n<p>In turn, <code>http://localhost:3000/api/dogs</code> will expose the Swagger UI for dogs:</p>\n<figure><img src=\"/assets/swagger-dogs.png\" /></figure>\n\n<h4 appAnchor id=\"tags\"><span>Tags</span></h4>\n<p>To attach a controller to a specific tag, use the <code>@ApiTags(...tags)</code> decorator.</p>\n<pre><code class=\"language-typescript\">\n@ApiTags(&#39;cats&#39;)\n@Controller(&#39;cats&#39;)\nexport class CatsController &#123;&#125;</code></pre>\n<h4 appAnchor id=\"headers\"><span>Headers</span></h4>\n<p>To define custom headers that are expected as part of the request, use <code>@ApiHeader()</code>.</p>\n<pre><code class=\"language-typescript\">\n@ApiHeader(&#123;\n  name: &#39;X-MyHeader&#39;,\n  description: &#39;Custom header&#39;,\n&#125;)\n@Controller(&#39;cats&#39;)\nexport class CatsController &#123;&#125;</code></pre>\n<h4 appAnchor id=\"responses\"><span>Responses</span></h4>\n<p>To define a custom HTTP response, we use <code>@ApiResponse()</code> decorator.</p>\n<pre><code class=\"language-typescript\">\n@Post()\n@ApiResponse(&#123; status: 201, description: &#39;The record has been successfully created.&#39;&#125;)\n@ApiResponse(&#123; status: 403, description: &#39;Forbidden.&#39;&#125;)\nasync create(@Body() createCatDto: CreateCatDto) &#123;\n  this.catsService.create(createCatDto);\n&#125;</code></pre>\n<p>Nest provides a set of short-hand <strong>API response</strong> decorators that inherit from the <code>@ApiResponse</code> decorator:</p>\n<ul>\n<li><code>@ApiOkResponse()</code></li>\n<li><code>@ApiCreatedResponse()</code></li>\n<li><code>@ApiBadRequestResponse()</code></li>\n<li><code>@ApiUnauthorizedResponse()</code></li>\n<li><code>@ApiNotFoundResponse()</code></li>\n<li><code>@ApiForbiddenResponse()</code></li>\n<li><code>@ApiMethodNotAllowedResponse()</code></li>\n<li><code>@ApiNotAcceptableResponse()</code></li>\n<li><code>@ApiRequestTimeoutResponse()</code></li>\n<li><code>@ApiConflictResponse()</code></li>\n<li><code>@ApiGoneResponse()</code></li>\n<li><code>@ApiPayloadTooLargeResponse()</code></li>\n<li><code>@ApiUnsupportedMediaTypeResponse()</code></li>\n<li><code>@ApiUnprocessableEntityResponse()</code></li>\n<li><code>@ApiInternalServerErrorResponse()</code></li>\n<li><code>@ApiNotImplementedResponse()</code></li>\n<li><code>@ApiBadGatewayResponse()</code></li>\n<li><code>@ApiServiceUnavailableResponse()</code></li>\n<li><code>@ApiGatewayTimeoutResponse()</code></li>\n<li><code>@ApiDefaultResponse()</code></li>\n</ul>\n<pre><code class=\"language-typescript\">\n@Post()\n@ApiCreatedResponse(&#123; description: &#39;The record has been successfully created.&#39;&#125;)\n@ApiForbiddenResponse(&#123; description: &#39;Forbidden.&#39;&#125;)\nasync create(@Body() createCatDto: CreateCatDto) &#123;\n  this.catsService.create(createCatDto);\n&#125;</code></pre>\n<p>To specify a return model for a request, we must create a class and annotate all properties with the <code>@ApiProperty()</code> decorator.</p>\n<pre><code class=\"language-typescript\">\nexport class Cat &#123;\n  @ApiProperty()\n  id: number;\n\n  @ApiProperty()\n  name: string;\n\n  @ApiProperty()\n  age: number;\n\n  @ApiProperty()\n  breed: string;\n&#125;</code></pre>\n<p>Then, <code>Cat</code> model must be used in combination with the <code>type</code> property of the response decorator.</p>\n<pre><code class=\"language-typescript\">\n@ApiTags(&#39;cats&#39;)\n@Controller(&#39;cats&#39;)\nexport class CatsController &#123;\n  @Post()\n  @ApiCreatedResponse(&#123;\n    description: &#39;The record has been successfully created.&#39;,\n    type: Cat,\n  &#125;)\n  async create(@Body() createCatDto: CreateCatDto): Promise&lt;Cat&gt; &#123;\n    return this.catsService.create(createCatDto);\n  &#125;\n&#125;</code></pre>\n<p>Let&#39;s open the browser and verify the generated <code>Cat</code> model:</p>\n<figure><img src=\"/assets/swagger-response-type.png\" /></figure>\n\n<h4 appAnchor id=\"global-prefix\"><span>Global prefix</span></h4>\n<p>To ignore a global prefix for routes set through <code>setGlobalPrefix()</code>, use <code>ignoreGlobalPrefix</code>:</p>\n<pre><code class=\"language-typescript\">\nconst document = SwaggerModule.createDocument(app, options, &#123;\n  ignoreGlobalPrefix: true,\n&#125;);</code></pre>\n<h4 appAnchor id=\"security\"><span>Security</span></h4>\n<p>To define which security mechanisms should be used for a specific operation, use the <code>@ApiSecurity()</code> decorator.</p>\n<pre><code class=\"language-typescript\">\n@ApiSecurity(&#39;basic&#39;)\n@Controller(&#39;cats&#39;)\nexport class CatsController &#123;&#125;</code></pre>\n<p>Before you run your application, remember to add the security definition to your base document using <code>DocumentBuilder</code>:</p>\n<pre><code class=\"language-typescript\">\nconst options = new DocumentBuilder().addSecurity(&#39;basic&#39;, &#123;\n  type: &#39;http&#39;,\n  scheme: &#39;basic&#39;,\n&#125;);</code></pre>\n<p>Some of the most popular authentication techniques are predefined (e.g. <code>basic</code> and <code>bearer</code>) and therefore you don&#39;t have to define security mechanisms manually as shown above.</p>\n<p><app-banner-courses></app-banner-courses></p>\n<h4 appAnchor id=\"basic-authentication\"><span>Basic authentication</span></h4>\n<p>To enable basic authentication, use <code>@ApiBasicAuth()</code>.</p>\n<pre><code class=\"language-typescript\">\n@ApiBasicAuth()\n@Controller(&#39;cats&#39;)\nexport class CatsController &#123;&#125;</code></pre>\n<p>Before you run your application, remember to add the security definition to your base document using <code>DocumentBuilder</code>:</p>\n<pre><code class=\"language-typescript\">\nconst options = new DocumentBuilder().addBasicAuth();</code></pre>\n<h4 appAnchor id=\"bearer-authentication\"><span>Bearer authentication</span></h4>\n<p>To enable bearer authentication, use <code>@ApiBearerAuth()</code>.</p>\n<pre><code class=\"language-typescript\">\n@ApiBearerAuth()\n@Controller(&#39;cats&#39;)\nexport class CatsController &#123;&#125;</code></pre>\n<p>Before you run your application, remember to add the security definition to your base document using <code>DocumentBuilder</code>:</p>\n<pre><code class=\"language-typescript\">\nconst options = new DocumentBuilder().addBearerAuth();</code></pre>\n<h4 appAnchor id=\"oauth2-authentication\"><span>OAuth2 authentication</span></h4>\n<p>To enable OAuth2, use <code>@ApiOAuth2()</code>.</p>\n<pre><code class=\"language-typescript\">\n@ApiOAuth2([&#39;pets:write&#39;])\n@Controller(&#39;cats&#39;)\nexport class CatsController &#123;&#125;</code></pre>\n<p>Before you run your application, remember to add the security definition to your base document using <code>DocumentBuilder</code>:</p>\n<pre><code class=\"language-typescript\">\nconst options = new DocumentBuilder().addOAuth2();</code></pre>\n<h4 appAnchor id=\"file-upload\"><span>File upload</span></h4>\n<p>You can enable file upload for a specific method with the <code>@ApiBody</code> decorator together with <code>@ApiConsumes()</code>. Here&#39;s a full example using the <a routerLink=\"/techniques/file-upload\">File Upload</a> technique:</p>\n<pre><code class=\"language-typescript\">\n@UseInterceptors(FileInterceptor(&#39;file&#39;))\n@ApiConsumes(&#39;multipart/form-data&#39;)\n@ApiBody(&#123;\n  description: &#39;List of cats&#39;,\n  type: FileUploadDto,\n&#125;)\nuploadFile(@UploadedFile() file) &#123;&#125;</code></pre>\n<p>Where <code>FileUploadDto</code> is defined as follows:</p>\n<pre><code class=\"language-typescript\">\nclass FileUploadDto &#123;\n  @ApiProperty(&#123; type: &#39;string&#39;, format: &#39;binary&#39; &#125;)\n  file: any;\n&#125;</code></pre>\n<h4 appAnchor id=\"extensions\"><span>Extensions</span></h4>\n<p>To add an Extension to a request use the <code>@ApiExtension()</code> decorator. The extension name must be prefixed with <code>x-</code>.</p>\n<pre><code class=\"language-typescript\">\n@ApiExtension(&#39;x-foo&#39;, &#123; hello: &#39;world&#39; &#125;)</code></pre>\n<h4 appAnchor id=\"decorators\"><span>Decorators</span></h4>\n<p>All of the available OpenAPI decorators have an <code>Api</code> prefix to distinguish them from the core decorators. Below is a full list of the exported decorators along with a designation of the level at which the decorator may be applied.</p>\n<table>\n<thead>\n</thead>\n<tbody><tr>\n<td><code>@ApiOperation()</code></td>\n<td>Method</td>\n</tr>\n<tr>\n<td><code>@ApiResponse()</code></td>\n<td>Method / Controller</td>\n</tr>\n<tr>\n<td><code>@ApiProduces()</code></td>\n<td>Method / Controller</td>\n</tr>\n<tr>\n<td><code>@ApiConsumes()</code></td>\n<td>Method / Controller</td>\n</tr>\n<tr>\n<td><code>@ApiBearerAuth()</code></td>\n<td>Method / Controller</td>\n</tr>\n<tr>\n<td><code>@ApiOAuth2()</code></td>\n<td>Method / Controller</td>\n</tr>\n<tr>\n<td><code>@ApiBasicAuth()</code></td>\n<td>Method / Controller</td>\n</tr>\n<tr>\n<td><code>@ApiSecurity()</code></td>\n<td>Method / Controller</td>\n</tr>\n<tr>\n<td><code>@ApiExtraModels()</code></td>\n<td>Method / Controller</td>\n</tr>\n<tr>\n<td><code>@ApiBody()</code></td>\n<td>Method</td>\n</tr>\n<tr>\n<td><code>@ApiParam()</code></td>\n<td>Method</td>\n</tr>\n<tr>\n<td><code>@ApiQuery()</code></td>\n<td>Method</td>\n</tr>\n<tr>\n<td><code>@ApiHeader()</code></td>\n<td>Method / Controller</td>\n</tr>\n<tr>\n<td><code>@ApiExcludeEndpoint()</code></td>\n<td>Method</td>\n</tr>\n<tr>\n<td><code>@ApiTags()</code></td>\n<td>Method / Controller</td>\n</tr>\n<tr>\n<td><code>@ApiProperty()</code></td>\n<td>Model</td>\n</tr>\n<tr>\n<td><code>@ApiPropertyOptional()</code></td>\n<td>Model</td>\n</tr>\n<tr>\n<td><code>@ApiHideProperty()</code></td>\n<td>Model</td>\n</tr>\n<tr>\n<td><code>@ApiExtension()</code></td>\n<td>Method</td>\n</tr>\n</tbody></table>\n<h4 appAnchor id=\"plugin\"><span>Plugin</span></h4>\n<p>TypeScript&#39;s metadata reflection system has several limitations which make it impossible to, for instance, determine what properties a class consists of or recognize whether a given property is optional or required. However, some of these constraints can be addressed at compilation time. Nest provides a plugin that enhances the TypeScript compilation process to reduce the amount of boilerplate code required.</p>\n<blockquote class=\"\nwarning \"><strong>Hint</strong> This plugin is <strong>opt-in</strong>. If you prefer, you can declare all decorators manually, or only specific decorators where you need them.\n</blockquote>\n<p>The Swagger plugin will automatically:</p>\n<ul>\n<li>annotate all DTO properties with <code>@ApiProperty</code> unless <code>@ApiHideProperty</code> is used</li>\n<li>set the <code>required</code> property depending on the question mark (e.g. <code>name?: string</code> will set <code>required: false</code>)</li>\n<li>set the <code>type</code> or <code>enum</code> property depending on the type (supports arrays as well)</li>\n<li>set the <code>default</code> property based on the assigned default value</li>\n<li>set several validation rules based on <code>class-validator</code> decorators (if <code>classValidatorShim</code> set to <code>true</code>)</li>\n<li>add a response decorator to every endpoint with a proper status and <code>type</code> (response model)</li>\n</ul>\n<p>Previously, if you wanted to provide an interactive experience with the Swagger UI,\nyou had to duplicate a lot of code to let the package knows how your models/components should be declared in the specification. For example, you could define a simple <code>CreateUserDto</code> class as follows:</p>\n<pre><code class=\"language-typescript\">\nexport class CreateUserDto &#123;\n  @ApiProperty()\n  email: string;\n\n  @ApiProperty()\n  password: string;\n\n  @ApiProperty(&#123; enum: RoleEnum, default: [], isArray: true &#125;)\n  roles: RoleEnum[] = [];\n\n  @ApiProperty(&#123; required: false, default: true &#125;)\n  isEnabled?: boolean = true;\n&#125;</code></pre>\n<p>While it&#39;s not a big deal with medium-sized projects, it becomes pretty verbose &amp; clunky once you have a large set of classes.</p>\n<p>Now, with the Swagger plugin enabled, the above class definition can be declared simply:</p>\n<pre><code class=\"language-typescript\">\nexport class CreateUserDto &#123;\n  email: string;\n  password: string;\n  roles: RoleEnum[] = [];\n  isEnabled?: boolean = true;\n&#125;</code></pre>\n<p>The plugin adds appropriate decorators on the fly based on the <strong>Abstract Syntax Tree</strong>. Hence, you no longer have to struggle with <code>@ApiProperty</code> decorators scattered throughout the entire project.</p>\n<blockquote class=\"\nwarning \"><strong>Hint</strong> The plugin will automatically generate any missing swagger properties, but if you need to override them, you simply set them explicitly via <code>@ApiProperty()</code>.\n</blockquote>\n<p>In order to enable the plugin, simply open <code>nest-cli.json</code> (if you use <a routerLink=\"/cli/overview\">Nest CLI</a>) and add the following <code>plugins</code> configuration:</p>\n<pre><code class=\"language-javascript\">\n&#123;\n  &quot;collection&quot;: &quot;@nestjs/schematics&quot;,\n  &quot;sourceRoot&quot;: &quot;src&quot;,\n  &quot;compilerOptions&quot;: &#123;\n    &quot;plugins&quot;: [&quot;@nestjs/swagger/plugin&quot;]\n  &#125;\n&#125;</code></pre>\n<p>You can use the <code>options</code> property to customize the behavior of the plugin.</p>\n<pre><code class=\"language-javascript\">\n&quot;plugins&quot;: [\n  &#123;\n    &quot;name&quot;: &quot;@nestjs/swagger/plugin&quot;,\n    &quot;options&quot;: &#123;\n      &quot;classValidatorShim&quot;: false\n    &#125;\n  &#125;\n]</code></pre>\n<p>The <code>options</code> property has to fulfill the following interface:</p>\n<pre><code class=\"language-typescript\">\nexport interface PluginOptions &#123;\n  dtoFileNameSuffix?: string[];\n  controllerFileNameSuffix?: string[];\n  classValidatorShim?: boolean;\n&#125;</code></pre>\n<table>\n  <tr>\n    <th>Option</th>\n    <th>Default</th>\n    <th>Description</th>\n  </tr>\n  <tr>\n    <td><code>dtoFileNameSuffix</code></td>\n    <td><code>['.dto.ts', '.entity.ts']</code></td>\n    <td>DTO (Data Transfer Object) files suffix</td>\n  </tr>\n  <tr>\n    <td><code>controllerFileNameSuffix</code></td>\n    <td><code>.controller.ts</code></td>\n    <td>Controller files suffix</td>\n  </tr>\n  <tr>\n    <td><code>classValidatorShim</code></td>\n    <td><code>true</code></td>\n    <td>If set to true, the module will reuse <code>class-validator</code> validation decorators (e.g. <code>@Max(10)</code> will add <code>max: 10</code> to schema definition) </td>\n  </tr>\n</table>\n\n<p>If you don&#39;t use the CLI but instead have a custom <code>webpack</code> configuration, you can use this plugin in combination with <code>ts-loader</code>:</p>\n<pre><code class=\"language-javascript\">\ngetCustomTransformers: (program: any) =&gt; (&#123;\n  before: [require(&#39;@nestjs/swagger/plugin&#39;).before(&#123;&#125;, program)]\n&#125;),</code></pre>\n<h4 appAnchor id=\"migration-to-40\"><span>Migration to 4.0</span></h4>\n<p>If you&#39;re currently using <code>@nestjs/swagger@3.*</code>, note the following breaking/API changes in version 4.0.</p>\n<p>The following decorators have been changed/renamed:</p>\n<ul>\n<li><code>@ApiModelProperty</code> is now <code>@ApiProperty</code></li>\n<li><code>@ApiModelPropertyOptional</code> is now <code>@ApiPropertyOptional</code></li>\n<li><code>@ApiResponseModelProperty</code> is now <code>@ApiResponseProperty</code></li>\n<li><code>@ApiImplicitQuery</code> is now <code>@ApiQuery</code></li>\n<li><code>@ApiImplicitParam</code> is now <code>@ApiParam</code></li>\n<li><code>@ApiImplicitBody</code> is now <code>@ApiBody</code></li>\n<li><code>@ApiImplicitHeader</code> is now <code>@ApiHeader</code></li>\n<li><code>@ApiOperation({{ &#39;{&#39; }} title: &#39;test&#39; {{ &#39;}&#39; }})</code> is now<code>@ApiOperation({{ &#39;{&#39; }} summary: &#39;test&#39; {{ &#39;}&#39; }})</code></li>\n<li><code>@ApiUseTags</code> is now <code>@ApiTags</code></li>\n</ul>\n<p><code>DocumentBuilder</code> breaking changes (updated method signatures):</p>\n<ul>\n<li><code>addTag</code></li>\n<li><code>addBearerAuth</code></li>\n<li><code>addOAuth2</code></li>\n<li><code>setContactEmail</code> is now <code>setContact</code></li>\n<li><code>setHost</code> has been removed</li>\n<li><code>setSchemes</code> has been removed</li>\n</ul>\n<p>The following methods have been added:</p>\n<ul>\n<li><code>addServer</code></li>\n<li><code>addApiKey</code></li>\n<li><code>addBasicAuth</code></li>\n<li><code>addSecurity</code></li>\n<li><code>addSecurityRequirements</code></li>\n</ul>\n<p><app-banner-shop></app-banner-shop></p>\n<h4 appAnchor id=\"example\"><span>Example</span></h4>\n<p>A working example is available <a rel='nofollow' target='_blank' href=\"https://github.com/nestjs/nest/tree/master/sample/11-swagger\">here</a>.</p>\n\n</div>\n\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { BasePageComponent } from '../../page/page.component';\n\n@Component({\n  selector: 'app-terminus',\n  templateUrl: './terminus.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TerminusComponent extends BasePageComponent {}\n","\n<div class=\"content\" #contentReference>\n  <div class=\"github-links\">\n    <a\n      href=\"https://github.com/nestjs/docs.nestjs.com/edit/master/content/recipes/terminus.md\"\n      aria-label=\"Suggest Edits\"\n      title=\"Suggest Edits\"\n    >\n      <i class=\"fas fa-edit\"></i>\n    </a>\n  </div>\n  <h3 id=\"health-checks-terminus\">Health checks (Terminus)</h3>\n<p>The <a rel='nofollow' target='_blank' href=\"https://github.com/godaddy/terminus\">terminus</a> offers hooks to react on graceful shutdowns and supports you creating proper <a rel='nofollow' target='_blank' href=\"https://kubernetes.io/\">Kubernetes</a> readiness / liveness checks for any HTTP application. The module <a rel='nofollow' target='_blank' href=\"https://github.com/nestjs/terminus\">@nestjs/terminus</a> integrates the terminus library with the Nest ecosystem.</p>\n<h4 appAnchor id=\"getting-started\"><span>Getting started</span></h4>\n<p>To get started with <code>@nestjs/terminus</code> we need to install the required dependencies.</p>\n<pre><code class=\"language-bash\">\n$ npm install --save @nestjs/terminus @godaddy/terminus</code></pre>\n<h4 appAnchor id=\"setting-up-a-health-check\"><span>Setting up a health check</span></h4>\n<p>A health check represents a summary of <strong>health indicators</strong>. A health indicator executes a check of a service, whether it is in a healthy state or not. A health check is positive, if all the assigned health indicators are up and running. Because a lot of applications will need similar health indicators, <a rel='nofollow' target='_blank' href=\"https://github.com/nestjs/terminus\">@nestjs/terminus</a> provides a set of predefined health indicators, such as:</p>\n<ul>\n<li><code>DNSHealthIndicator</code></li>\n<li><code>TypeOrmHealthIndicator</code></li>\n<li><code>MongooseHealthIndicator</code></li>\n<li><code>MicroserviceHealthIndicator</code></li>\n<li><code>MemoryHealthIndicator</code></li>\n<li><code>DiskHealthIndicator</code></li>\n</ul>\n<h4 appAnchor id=\"dns-health-check\"><span>DNS Health Check</span></h4>\n<p>The first step to get started with our first health check, is to setup a service which will associate health indicators to an endpoint.</p>\n\n<span class=\"filename\">\n  {{ 'terminus-options.service' | extension: app3be3eb7af278581c52f0d0e60f0ce746b67eca1c.isJsActive }}\n<app-tabs #app3be3eb7af278581c52f0d0e60f0ce746b67eca1c></app-tabs>\n</span><pre [class.hide]=\"app3be3eb7af278581c52f0d0e60f0ce746b67eca1c.isJsActive\"><code class=\"language-typescript\">\nimport &#123;\n  TerminusEndpoint,\n  TerminusOptionsFactory,\n  DNSHealthIndicator,\n  TerminusModuleOptions\n&#125; from &#39;@nestjs/terminus&#39;;\nimport &#123; Injectable &#125; from &#39;@nestjs/common&#39;;\n\n@Injectable()\nexport class TerminusOptionsService implements TerminusOptionsFactory &#123;\n  constructor(\n    private readonly dns: DNSHealthIndicator,\n  ) &#123;&#125;\n\n  createTerminusOptions(): TerminusModuleOptions &#123;\n    const healthEndpoint: TerminusEndpoint = &#123;\n      url: &#39;/health&#39;,\n      healthIndicators: [\n        async () =&gt; this.dns.pingCheck(&#39;google&#39;, &#39;https://google.com&#39;),\n      ],\n    &#125;;\n    return &#123;\n      endpoints: [healthEndpoint],\n    &#125;;\n  &#125;\n&#125;</code></pre>\n<pre [class.hide]=\"!app3be3eb7af278581c52f0d0e60f0ce746b67eca1c.isJsActive\"><code class=\"language-typescript\">\nimport &#123; Injectable, Dependencies &#125; from &#39;@nestjs/common&#39;;\nimport &#123; DNSHealthIndicator &#125; from &#39;@nestjs/terminus&#39;;\n\n@Injectable()\n@Dependencies(DNSHealthIndicator)\nexport class TerminusOptionsService &#123;\n  constructor(dns) &#123;\n    this.dns = dns;\n  &#125;\n\n  createTerminusOptions() &#123;\n    const healthEndpoint = &#123;\n      url: &#39;/health&#39;,\n      healthIndicators: [\n        async () =&gt; this.dns.pingCheck(&#39;google&#39;, &#39;https://google.com&#39;),\n      ],\n    &#125;;\n    return &#123;\n      endpoints: [healthEndpoint],\n    &#125;;\n  &#125;\n&#125;</code></pre><p>Once we have set up our <code>TerminusOptionsService</code>, we can import the <code>TerminusModule</code> into the root <code>ApplicationModule</code>. The <code>TerminusOptionsService</code> will provide the settings, which in turn will be used by the <code>TerminusModule</code>.</p>\n\n<span class=\"filename\">\n  {{ 'app.module' | extension: app1b754fe7e4d3f08376fef96c843f741682f7ade0.isJsActive }}\n<app-tabs #app1b754fe7e4d3f08376fef96c843f741682f7ade0></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Module &#125; from &#39;@nestjs/common&#39;;\nimport &#123; TerminusModule &#125; from &#39;@nestjs/terminus&#39;;\nimport &#123; TerminusOptionsService &#125; from &#39;./terminus-options.service&#39;;\n\n@Module(&#123;\n  imports: [\n    TerminusModule.forRootAsync(&#123;\n      useClass: TerminusOptionsService,\n    &#125;),\n  ],\n&#125;)\nexport class ApplicationModule &#123; &#125;</code></pre><blockquote class=\"\ninfo \"><strong>Hint</strong> If done correctly, Nest will expose the defined health check(s), which are reachable through a GET request to the defined route. For example <code>curl -X GET &#39;http://localhost:3000/health&#39;</code>\n</blockquote>\n<h4 appAnchor id=\"custom-health-indicator\"><span>Custom health indicator</span></h4>\n<p>In some cases, the predefined health indicators provided by <code>@nestjs/terminus</code> do not cover all of your health check requirements. In this case you can set up a custom health indicator according to your needs.</p>\n<p>Let&#39;s get started by creating a service which will represent our custom health indicator. To get a basic understanding how a health indicator is structured, we will create an example <code>DogHealthIndicator</code>. This health indicator should have the state &quot;up&quot;, if every <code>Dog</code> object has the type <code>goodboy</code>, otherwise it will throw an error, which then the health indicator will be seen as &quot;down&quot;.</p>\n\n<span class=\"filename\">\n  {{ 'dog.health' | extension: appc6e5d23e6cc193ab0cc9ae28719ace5f4868061b.isJsActive }}\n<app-tabs #appc6e5d23e6cc193ab0cc9ae28719ace5f4868061b></app-tabs>\n</span><pre [class.hide]=\"appc6e5d23e6cc193ab0cc9ae28719ace5f4868061b.isJsActive\"><code class=\"language-typescript\">\nimport &#123; Injectable &#125; from &#39;@nestjs/common&#39;;\nimport &#123; HealthCheckError &#125; from &#39;@godaddy/terminus&#39;;\nimport &#123; HealthIndicator, HealthIndicatorResult &#125; from &#39;@nestjs/terminus&#39;;\n\nexport interface Dog &#123;\n  name: string;\n  type: string;\n&#125;\n\n@Injectable()\nexport class DogHealthIndicator extends HealthIndicator &#123;\n  private readonly dogs: Dog[] = [\n    &#123; name: &#39;Fido&#39;, type: &#39;goodboy&#39; &#125;,\n    &#123; name: &#39;Rex&#39;, type: &#39;badboy&#39; &#125;,\n  ];\n\n  async isHealthy(key: string): Promise&lt;HealthIndicatorResult&gt; &#123;\n    const badboys = this.dogs.filter(dog =&gt; dog.type === &#39;badboy&#39;);\n    const isHealthy = badboys.length === 0;\n    const result = this.getStatus(key, isHealthy, &#123; badboys: badboys.length &#125;);\n\n    if (isHealthy) &#123;\n      return result;\n    &#125;\n    throw new HealthCheckError(&#39;Dogcheck failed&#39;, result);\n  &#125;\n&#125;</code></pre>\n<pre [class.hide]=\"!appc6e5d23e6cc193ab0cc9ae28719ace5f4868061b.isJsActive\"><code class=\"language-typescript\">\nimport &#123; Injectable &#125; from &#39;@nestjs/common&#39;;\nimport &#123; HealthCheckError &#125; from &#39;@godaddy/terminus&#39;;\n\n@Injectable()\nexport class DogHealthIndicator extends HealthIndicator &#123;\n  dogs = [\n    &#123; name: &#39;Fido&#39;, type: &#39;goodboy&#39; &#125;,\n    &#123; name: &#39;Rex&#39;, type: &#39;badboy&#39; &#125;,\n  ];\n\n  async isHealthy(key) &#123;\n    const badboys = this.dogs.filter(dog =&gt; dog.type === &#39;badboy&#39;);\n    const isHealthy = badboys.length === 0;\n    const result = this.getStatus(key, isHealthy, &#123; badboys: badboys.length &#125;);\n\n    if (isHealthy) &#123;\n      return result;\n    &#125;\n    throw new HealthCheckError(&#39;Dogcheck failed&#39;, result);\n  &#125;\n&#125;</code></pre><p>The next thing we need to do is registering the health indicator as a provider.</p>\n\n<span class=\"filename\">\n  {{ 'app.module' | extension: app3678e842ad498d2869ce6ba92dba38d58be2fffd.isJsActive }}\n<app-tabs #app3678e842ad498d2869ce6ba92dba38d58be2fffd></app-tabs>\n</span><pre><code class=\"language-typescript\">\nimport &#123; Module &#125; from &#39;@nestjs/common&#39;;\nimport &#123; TerminusModule &#125; from &#39;@nestjs/terminus&#39;;\nimport &#123; TerminusOptionsService &#125; from &#39;./terminus-options.service&#39;;\nimport &#123; DogHealthIndicator &#125; from &#39;./dog.health&#39;;\n\n@Module(&#123;\n  imports: [\n    TerminusModule.forRootAsync(&#123;\n      imports: [ApplicationModule],\n      useClass: TerminusOptionsService,\n    &#125;),\n  ],\n  providers: [DogHealthIndicator],\n  exports: [DogHealthIndicator],\n&#125;)\nexport class ApplicationModule &#123; &#125;</code></pre><blockquote class=\"\ninfo \"><strong>Hint</strong> In a real world application the <code>DogHealthIndicator</code> should be provided in a separate module, for example <code>DogsModule</code>, which then will be imported by the <code>ApplicationModule</code>. But keep in mind to add the <code>DogHealthIndicator</code> to the <code>exports</code> array of the <code>DogModule</code> and add the <code>DogModule</code> in <code>imports</code> array of the <code>TerminusModule.forRootAsync()</code> parameter object.\n</blockquote>\n<p>The last required thing to do is to add the now available health indicator in the required health check endpoint. For that we go back to our <code>TerminusOptionsService</code> and implement it to the <code>/health</code> endpoint.</p>\n\n<span class=\"filename\">\n  {{ 'terminus-options.service' | extension: appc40f025258fbf277ef87dfcd113ce927c9f681ec.isJsActive }}\n<app-tabs #appc40f025258fbf277ef87dfcd113ce927c9f681ec></app-tabs>\n</span><pre [class.hide]=\"appc40f025258fbf277ef87dfcd113ce927c9f681ec.isJsActive\"><code class=\"language-typescript\">\nimport &#123;\n  TerminusEndpoint,\n  TerminusOptionsFactory,\n  DNSHealthIndicator,\n  TerminusModuleOptions\n&#125; from &#39;@nestjs/terminus&#39;;\nimport &#123; Injectable &#125; from &#39;@nestjs/common&#39;;\nimport &#123; DogHealthIndicator &#125; from &#39;./dog.health&#39;;\n\n@Injectable()\nexport class TerminusOptionsService implements TerminusOptionsFactory &#123;\n  constructor(\n    private readonly dogHealthIndicator: DogHealthIndicator\n  ) &#123;&#125;\n\n  createTerminusOptions(): TerminusModuleOptions &#123;\n    const healthEndpoint: TerminusEndpoint = &#123;\n      url: &#39;/health&#39;,\n      healthIndicators: [\n        async () =&gt; this.dogHealthIndicator.isHealthy(&#39;dog&#39;),\n      ],\n    &#125;;\n    return &#123;\n      endpoints: [healthEndpoint],\n    &#125;;\n  &#125;\n&#125;</code></pre>\n<pre [class.hide]=\"!appc40f025258fbf277ef87dfcd113ce927c9f681ec.isJsActive\"><code class=\"language-typescript\">\nimport &#123; DogHealthIndicator &#125; from &#39;./dog.health&#39;;\nimport &#123; Injectable, Dependencies &#125; from &#39;@nestjs/common&#39;;\n\n@Injectable()\n@Dependencies(DogHealthIndicator)\nexport class TerminusOptionsService &#123;\n  constructor(dogHealthIndicator) &#123;\n    this.dogHealthIndicator = dogHealthIndicator;\n  &#125;\n\n  createTerminusOptions() &#123;\n    const healthEndpoint = &#123;\n      url: &#39;/health&#39;,\n      healthIndicators: [\n        async () =&gt; this.dogHealthIndicator.isHealthy(&#39;dog&#39;),\n      ],\n    &#125;;\n    return &#123;\n      endpoints: [healthEndpoint],\n    &#125;;\n  &#125;\n&#125;</code></pre><p>If everything has been done correctly, the <code>/health</code> endpoint should respond with a <code>503</code> response code and the following data.</p>\n<pre><code class=\"language-json\">\n&#123;\n  &quot;status&quot;: &quot;error&quot;,\n  &quot;error&quot;: &#123;\n    &quot;dog&quot;: &#123;\n      &quot;status&quot;: &quot;down&quot;,\n      &quot;badboys&quot;: 1\n    &#125;\n  &#125;\n&#125;</code></pre>\n<p>You can view working examples in the <code>@nestjs/terminus</code> <a rel='nofollow' target='_blank' href=\"https://github.com/nestjs/terminus/tree/master/sample\">repository</a>.</p>\n<h4 appAnchor id=\"custom-logger\"><span>Custom Logger</span></h4>\n<p>The <code>Terminus</code> module automatically logs every error during a health check request. By default, it will use the globally defined Nest logger.\nYou can read more about the global logger in the <a rel='nofollow' target='_blank' href=\"https://docs.nestjs.com/techniques/logger\">Logger chapter</a>.\nIn some cases, you want to handle the logs of <code>Terminus</code> explicitly. In this case, the <code>TerminusModule.forRoot[Async]</code> function offers an option\nfor a custom logger.</p>\n<pre><code class=\"language-typescript\">\n\nTerminusModule.forRootAsync(&#123;\n  logger: (message: string, error: Error) =&gt; console.error(message, error),\n  endpoints: [\n    ...\n  ]\n&#125;)\n</code></pre>\n<p>The logger can also be disabled by setting the logger option to <code>null</code>.</p>\n<pre><code class=\"language-typescript\">\n\nTerminusModule.forRootAsync(&#123;\n  logger: null,\n  endpoints: [\n    ...\n  ]\n&#125;)\n</code></pre>\n\n</div>\n\n"]}